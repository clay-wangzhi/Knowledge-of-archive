## 用户

### 创建用户并设置密码

```mysql
create user aa@localhost identified by '123';//本地用户
create user aa@'%' identified by '123'; //其他远程用户
```

### 删除用户

```mysql
drop user 'testUser'@'%';
```

## 权限

### 授予权限

```mysql
grant 权限 on 库.表 to 用户@主机 identified by '密码'；grant 权限 on 库.表 to 用户@主机 identified by '密码'；
grant all on *.* to 'testUser'@'%' identified by '123';
```

#### 查询、插入、更新、删除的权限

```mysql
grant select on testdb.* to 'testUser'@'%';  
grant insert on testdb.* to 'testUser'@'%';  #其中*第通配符，表示所有
grant update on testdb.* to 'testUser'@'%';
grant delete on testdb.* to 'testUser'@'%';

#总结成一条命令
grant select,insert,update,delete on testdb.* to 'testUser'@'%';
```

#### 创建和删除表、索引、视图、存储过程的权限

```mysql
grant create on testdb.* to 'testUser'@'%';  #其中*第通配符，表示所有
grant alter on testdb.* to 'testUser'@'%';
grant drop on testdb.* to 'testUser'@'%';

#总结成一条命令
grant create,alter,drop on testdb.* to 'testUser'@'%';

#外键权限
grant reference on testdb.* to 'testUser'@'%';

#索引权限
grant index on testdb.* to 'testUser'@'%';

#视图权限
grant create view on testdb.* to 'testUser'@'%';
grant show view on testdb.* to 'testUser'@'%';

#存储过程权限
grant create routine on testdb.* to 'testUser'@'%';
grant alter routine on testdb.* to 'testUser'@'%';
grant execute on testdb.* to 'testUser'@'%';
```

#### 指定用户管理数据库的权限

```mysql
#仅管理testdb数据库
grant all privileges on testdb.* to 'testUser'@'%';

#管理所有数据库
grant all privileges on *.* to 'testUser'@'%';
#其中privileges关键字可省略
```

### 权限的作用层次

#### 作用在整个MySQL服务器上

```mysql
grant all privileges on *.* to 'testUser'@'%';
```

#### 作用在单个数据库上

```mysql
grant all privileges on testdb.* to 'testUser'@'%';
```

#### 作用在单个数据表上

```mysql
grant all privileges on testdb.testTable to 'testUser'@'%';
```

#### 作用在单个数据表的若干个列上

```mysql
grant select(id, name, home, phone) on testdb.testTable to 'testUser'@'%'; #select可以改其他，字段根据实际修改
```

#### 作用在存储过程、函数上

```mysql
grant execute on procedure testdb.tsetfunc to 'testUser'@'%';
grant execute on function testdb.tsetfunc to 'testUser'@'%';
```

### 权限刷新

```mysql
flush privileges;
```

### 查看权限

```mysql
#查看当前用户的权限
show grants;

#查看mysql中其他用户的权限
show grants for 'testUser'@'%';
```

### 移除权限

```mysql
revoke 权限 on 库.表 from 用户@主机;
revoke all on *.* from 'testUser'@'%';
```



## 查询
```
select user from mysql.user;
```

## 修改用户密码
```
set password for 'aa'@'%'= password('123');
```
## 查询用户权限
```
show grants for aa\G;
```


## 移除权限revoke
```

```
## 跳过授权
vim /etc/my.cnf
[mysqld]
skip-grant-tables

> 参考链接：https://blog.csdn.net/a791693310/article/details/81083864


