<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Harbor简介 | IT外卖小哥</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="https://cdn.jsdelivr.net/npm/react/umd/react.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/react-dom/umd/react-dom.production.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@babel/standalone/babel.min.js"></script>
    <link rel="alternate" type="application/atom+xml" href="https://vuepress-theme-hope-demo.mrhope.site/atom.xml" title="IT外卖小哥 Atom Feed">
    <link rel="alternate" type="application/json" href="https://vuepress-theme-hope-demo.mrhope.site/feed.json" title="IT外卖小哥 JSON Feed">
    <link rel="alternate" type="application/rss+xml" href="https://vuepress-theme-hope-demo.mrhope.site/rss.xml" title="IT外卖小哥 RSS Feed">
    <link rel="icon" href="/favicon.ico">
    <link rel="icon" href="/assets/icon/chrome-mask-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-mask-192.png" type="image/png" sizes="192x192">
    <link rel="icon" href="/assets/icon/chrome-512.png" type="image/png" sizes="512x512">
    <link rel="icon" href="/assets/icon/chrome-192.png" type="image/png" sizes="192x192">
    <link rel="manifest" href="/manifest.webmanifest" crossorigin="use-credentials">
    <link rel="apple-touch-icon" href="/assets/icon/apple-icon-152.png">
    <meta name="description" content="当你发现自己的才华撑不起野心时，就请安静下来学习吧！">
    <meta property="og:url" content="/container/Docker/docker_harbor_ha.html">
    <meta property="og:site_name" content="IT外卖小哥">
    <meta property="og:title" content="Harbor简介">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh-CN">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image:alt" content="IT外卖小哥">
    <meta property="article:author" content="Clay">
    <meta name="theme-color" content="#46bd87">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/assets/icon/ms-icon-144.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    
    <link rel="preload" href="/assets/css/0.styles.74e162d4.css" as="style"><link rel="preload" href="/assets/js/app.f8c94214.js" as="script"><link rel="preload" href="/assets/js/layout-Layout.20ee60ea.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.699456de.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.e30cf8f9.js" as="script"><link rel="preload" href="/assets/js/vendors~layout-Blog~layout-Layout.e02ffb1a.js" as="script"><link rel="preload" href="/assets/js/page-Harbor简介.ab53052b.js" as="script"><link rel="prefetch" href="/assets/js/316.1ea954d0.js"><link rel="prefetch" href="/assets/js/317.be4a87c1.js"><link rel="prefetch" href="/assets/js/318.5555ff8c.js"><link rel="prefetch" href="/assets/js/319.f39c4455.js"><link rel="prefetch" href="/assets/js/320.ad2b930e.js"><link rel="prefetch" href="/assets/js/layout-Blog.5354c823.js"><link rel="prefetch" href="/assets/js/layout-NotFound.44ee922f.js"><link rel="prefetch" href="/assets/js/layout-Slide.1b84b1ce.js"><link rel="prefetch" href="/assets/js/page--00e7df1c.b6aeac29.js"><link rel="prefetch" href="/assets/js/page--0585b5dc.ae61f066.js"><link rel="prefetch" href="/assets/js/page--0616b8be.49337c07.js"><link rel="prefetch" href="/assets/js/page--0869c0eb.7c9e1f9a.js"><link rel="prefetch" href="/assets/js/page--092e8cfd.0e35d0f3.js"><link rel="prefetch" href="/assets/js/page--0a7aecb9.bad92c37.js"><link rel="prefetch" href="/assets/js/page--0f30e8fa.b8238a78.js"><link rel="prefetch" href="/assets/js/page--15976610.b7ef6fd9.js"><link rel="prefetch" href="/assets/js/page--1b474522.d05c0a27.js"><link rel="prefetch" href="/assets/js/page--1d33009c.a468a42c.js"><link rel="prefetch" href="/assets/js/page--24fd75f6.ba249f9b.js"><link rel="prefetch" href="/assets/js/page--2662697e.3a767cfd.js"><link rel="prefetch" href="/assets/js/page--2b85aacc.6ec35fe8.js"><link rel="prefetch" href="/assets/js/page--2d434a77.ebfbf772.js"><link rel="prefetch" href="/assets/js/page--3556f927.a6b17930.js"><link rel="prefetch" href="/assets/js/page--39b8b8ed.57c9b26b.js"><link rel="prefetch" href="/assets/js/page--3ca1471b.5ff3e1b3.js"><link rel="prefetch" href="/assets/js/page--3f90a7a0.f87ba566.js"><link rel="prefetch" href="/assets/js/page--43ac3f60.87ef6cef.js"><link rel="prefetch" href="/assets/js/page--44a2687f.2b5778c9.js"><link rel="prefetch" href="/assets/js/page--47bcb693.79963b7f.js"><link rel="prefetch" href="/assets/js/page--484a8004.1efbeb22.js"><link rel="prefetch" href="/assets/js/page--4949405e.47bca17f.js"><link rel="prefetch" href="/assets/js/page--4d7edacd.10ca231b.js"><link rel="prefetch" href="/assets/js/page--4dd02a57.5e8bb345.js"><link rel="prefetch" href="/assets/js/page--51bc2cac.5534252f.js"><link rel="prefetch" href="/assets/js/page--53fded36.eafc9f6b.js"><link rel="prefetch" href="/assets/js/page--5abb88ba.9e06f34f.js"><link rel="prefetch" href="/assets/js/page--5d3d4c29.44dfb357.js"><link rel="prefetch" href="/assets/js/page--602a5a19.32f567c7.js"><link rel="prefetch" href="/assets/js/page--6058d26c.ba36f6ec.js"><link rel="prefetch" href="/assets/js/page--60dfd96d.7cfb2230.js"><link rel="prefetch" href="/assets/js/page--60fcd1ee.e76621b7.js"><link rel="prefetch" href="/assets/js/page--61eaaae6.4247a2e2.js"><link rel="prefetch" href="/assets/js/page--62b85426.934013f6.js"><link rel="prefetch" href="/assets/js/page--709cfe0f.b02928df.js"><link rel="prefetch" href="/assets/js/page--75f24eea.b3bb1268.js"><link rel="prefetch" href="/assets/js/page--78f0b7c3.1900f2ba.js"><link rel="prefetch" href="/assets/js/page--7a52e3ad.11acfaa4.js"><link rel="prefetch" href="/assets/js/page--7b2d7a73.7e16bf33.js"><link rel="prefetch" href="/assets/js/page--81b17ba2.03d3444a.js"><link rel="prefetch" href="/assets/js/page--82f4313e.f7b86c77.js"><link rel="prefetch" href="/assets/js/page--844cade6.cf32e60a.js"><link rel="prefetch" href="/assets/js/page--86e5ca40.1eb861e5.js"><link rel="prefetch" href="/assets/js/page--88cc0af8.091fc1cc.js"><link rel="prefetch" href="/assets/js/page--8c296536.b36dd0b3.js"><link rel="prefetch" href="/assets/js/page--91f9e48c.c094f347.js"><link rel="prefetch" href="/assets/js/page--95454eae.e22f6f0f.js"><link rel="prefetch" href="/assets/js/page--987e4322.73cf33b7.js"><link rel="prefetch" href="/assets/js/page--ab85f1a6.3813cb78.js"><link rel="prefetch" href="/assets/js/page--aca1c95e.4728a46f.js"><link rel="prefetch" href="/assets/js/page--b6b1e066.7e4af1c7.js"><link rel="prefetch" href="/assets/js/page--bd4f2826.b102127d.js"><link rel="prefetch" href="/assets/js/page--be63dd2e.3a799699.js"><link rel="prefetch" href="/assets/js/page--c26e6710.5d858388.js"><link rel="prefetch" href="/assets/js/page--c3abbb7c.16bbbcd6.js"><link rel="prefetch" href="/assets/js/page--c4128808.1c230790.js"><link rel="prefetch" href="/assets/js/page--cae3d590.8cac38e8.js"><link rel="prefetch" href="/assets/js/page--d7df6d82.5c359ce5.js"><link rel="prefetch" href="/assets/js/page--e5093032.370f09e8.js"><link rel="prefetch" href="/assets/js/page--eaaa177e.ffa42b9c.js"><link rel="prefetch" href="/assets/js/page--f4b1f08c.42d2ca26.js"><link rel="prefetch" href="/assets/js/page--f696edd0.6b5d400d.js"><link rel="prefetch" href="/assets/js/page--f78e6114.334241f0.js"><link rel="prefetch" href="/assets/js/page--f7d54b0e.30431cbd.js"><link rel="prefetch" href="/assets/js/page--fe8e6f5a.0a261730.js"><link rel="prefetch" href="/assets/js/page-1011使用awk处理字符串.abe3f568.js"><link rel="prefetch" href="/assets/js/page-1012参考资料.4e0ce35d.js"><link rel="prefetch" href="/assets/js/page-101字符串处理.e36e14be.js"><link rel="prefetch" href="/assets/js/page-102参数替换.2f2b6a4b.js"><link rel="prefetch" href="/assets/js/page-111循环.4765b65b.js"><link rel="prefetch" href="/assets/js/page-112嵌套循环.a2622d6b.js"><link rel="prefetch" href="/assets/js/page-113循环控制.a1f25cb3.js"><link rel="prefetch" href="/assets/js/page-114测试与分支.d824029f.js"><link rel="prefetch" href="/assets/js/page-181正则表达式简介.8b683d7f.js"><link rel="prefetch" href="/assets/js/page-182文件名替换.0645df65.js"><link rel="prefetch" href="/assets/js/page-183正则表达式对照表.a6b2cbc3.js"><link rel="prefetch" href="/assets/js/page-18正则表达式.b96bc777.js"><link rel="prefetch" href="/assets/js/page-19嵌入文档.0dcc3701.js"><link rel="prefetch" href="/assets/js/page-1初识Ansible.b42e8bc8.js"><link rel="prefetch" href="/assets/js/page-1初识Nginx.7656e1ef.js"><link rel="prefetch" href="/assets/js/page-1在浏览器中打开httpIPphpldapadmin.1759eb1c.js"><link rel="prefetch" href="/assets/js/page-1数据库基本概念.fc2f8ff8.js"><link rel="prefetch" href="/assets/js/page-1数据库相关概念.cba036e6.js"><link rel="prefetch" href="/assets/js/page-1数据类型.329d6853.js"><link rel="prefetch" href="/assets/js/page-1用户.c2282381.js"><link rel="prefetch" href="/assets/js/page-1视图【view】.b729a753.js"><link rel="prefetch" href="/assets/js/page-1锁等待模拟.5e35c9ee.js"><link rel="prefetch" href="/assets/js/page-201使用exec.b248dd81.js"><link rel="prefetch" href="/assets/js/page-202重定向代码块.dbf297ba.js"><link rel="prefetch" href="/assets/js/page-203应用程序.e2e0dc84.js"><link rel="prefetch" href="/assets/js/page-20IO重定向.38597773.js"><link rel="prefetch" href="/assets/js/page-21调用一个脚本.c555f3e2.js"><link rel="prefetch" href="/assets/js/page-22牛刀小试.edce70b9.js"><link rel="prefetch" href="/assets/js/page-241复杂函数和函数复杂性.0de3d329.js"><link rel="prefetch" href="/assets/js/page-242局部变量.33796f4f.js"><link rel="prefetch" href="/assets/js/page-243不使用局部变量的递归.9a29bcea.js"><link rel="prefetch" href="/assets/js/page-24函数.0807494e.js"><link rel="prefetch" href="/assets/js/page-25别名.a25fa64a.js"><link rel="prefetch" href="/assets/js/page-27数组.a194355c.js"><link rel="prefetch" href="/assets/js/page-2AnsibleInventory配置详解.86104ca9.js"><link rel="prefetch" href="/assets/js/page-2nginx架构基础.e7d1f2c5.js"><link rel="prefetch" href="/assets/js/page-30网络编程.975cc6d4.js"><link rel="prefetch" href="/assets/js/page-31Ansiblelineinfile模块详解.23345891.js"><link rel="prefetch" href="/assets/js/page-31nginx全局块和events块配置.9912a054.js"><link rel="prefetch" href="/assets/js/page-32nginxHTTP块配置.7bb44eff.js"><link rel="prefetch" href="/assets/js/page-32调试.675c29fc.js"><link rel="prefetch" href="/assets/js/page-33nginxSERVER块配置.3799aedb.js"><link rel="prefetch" href="/assets/js/page-33选项.da713ccc.js"><link rel="prefetch" href="/assets/js/page-34nginxLOCATION块配置.6f1012eb.js"><link rel="prefetch" href="/assets/js/page-35nginx常用模块.716a5872.js"><link rel="prefetch" href="/assets/js/page-361交互和非交互shell以及脚本.4385bc66.js"><link rel="prefetch" href="/assets/js/page-362shellwrappers.ef429dc2.js"><link rel="prefetch" href="/assets/js/page-363测试和比较的其他方法.c04ffc64.js"><link rel="prefetch" href="/assets/js/page-364递归：可以调用自己的脚本.bb37f5a0.js"><link rel="prefetch" href="/assets/js/page-3AnsibleAd-hoc命令集.c9713dd2.js"><link rel="prefetch" href="/assets/js/page-3nginx配置文件详解.6912b596.js"><link rel="prefetch" href="/assets/js/page-41Playbook的结构及handler用法.2d3a2880.js"><link rel="prefetch" href="/assets/js/page-41变量替换.087d3122.js"><link rel="prefetch" href="/assets/js/page-42Playbook循环语句.04f4856f.js"><link rel="prefetch" href="/assets/js/page-42变量赋值.9002f106.js"><link rel="prefetch" href="/assets/js/page-43Bash变量是弱类型的.8b8497a6.js"><link rel="prefetch" href="/assets/js/page-43Playbook条件语句.d500e102.js"><link rel="prefetch" href="/assets/js/page-44Playbook高级用法.6d91698b.js"><link rel="prefetch" href="/assets/js/page-44特殊的变量类型.649c8b64.js"><link rel="prefetch" href="/assets/js/page-45Playbook之tags.548611c9.js"><link rel="prefetch" href="/assets/js/page-46巧用Roles.6ed7ec97.js"><link rel="prefetch" href="/assets/js/page-48yaml语法.354812d7.js"><link rel="prefetch" href="/assets/js/page-4AnsiblePlaybook.9923a512.js"><link rel="prefetch" href="/assets/js/page-4内核参数优化.880877ba.js"><link rel="prefetch" href="/assets/js/page-51引用变量.112c7b5f.js"><link rel="prefetch" href="/assets/js/page-51自定义变量.0534ae48.js"><link rel="prefetch" href="/assets/js/page-52Fact变量.77ab930d.js"><link rel="prefetch" href="/assets/js/page-52转义.a8f87da6.js"><link rel="prefetch" href="/assets/js/page-53魔法变量.5c402252.js"><link rel="prefetch" href="/assets/js/page-54使用lookup生成变量.df8cd464.js"><link rel="prefetch" href="/assets/js/page-55使用vault配置加密.6d504a72.js"><link rel="prefetch" href="/assets/js/page-5Ansible变量.13879fe5.js"><link rel="prefetch" href="/assets/js/page-5状态码.4af5091e.js"><link rel="prefetch" href="/assets/js/page-61Nginx出现403forbidden的三种原因.b6271041.js"><link rel="prefetch" href="/assets/js/page-6Ansible使用优化.c70d147d.js"><link rel="prefetch" href="/assets/js/page-6nginx的常见问题.cdbdec78.js"><link rel="prefetch" href="/assets/js/page-71测试结构.c79fca9e.js"><link rel="prefetch" href="/assets/js/page-72文件测试操作.92907ac3.js"><link rel="prefetch" href="/assets/js/page-73其他比较操作.9659e4dc.js"><link rel="prefetch" href="/assets/js/page-74嵌套ifthen条件测试.11ae6de3.js"><link rel="prefetch" href="/assets/js/page-75牛刀小试.a726efc8.js"><link rel="prefetch" href="/assets/js/page-7常见问题.c34f3cea.js"><link rel="prefetch" href="/assets/js/page-81运算符.b5eec459.js"><link rel="prefetch" href="/assets/js/page-82数字常量.101c66c2.js"><link rel="prefetch" href="/assets/js/page-91内部变量.bbb2a29b.js"><link rel="prefetch" href="/assets/js/page-921declare的另类用法.6aa7316a.js"><link rel="prefetch" href="/assets/js/page-92变量类型标注：declare与typeset.99fc86c5.js"><link rel="prefetch" href="/assets/js/page-93$RANDOM：生成随机数.5ccc7f08.js"><link rel="prefetch" href="/assets/js/page-Analysis.67c31ea7.js"><link rel="prefetch" href="/assets/js/page-Centos76下Elasticseatch72集群搭建步骤.17096815.js"><link rel="prefetch" href="/assets/js/page-Centos7安装升级Ruby.6cf5904e.js"><link rel="prefetch" href="/assets/js/page-ElasticStack与Docker容器.a2e31a3e.js"><link rel="prefetch" href="/assets/js/page-ElasticStack生态圈.ab21bb0e.js"><link rel="prefetch" href="/assets/js/page-Elasticsearch分词.515585a1.js"><link rel="prefetch" href="/assets/js/page-Elasticsearch基础概念.3c278796.js"><link rel="prefetch" href="/assets/js/page-Harbor创建.2dbf9587.js"><link rel="prefetch" href="/assets/js/page-JenkinsJob迁移.a09e1232.js"><link rel="prefetch" href="/assets/js/page-Jenkins关闭和重启的实现方式.0140daf2.js"><link rel="prefetch" href="/assets/js/page-Linux下配置jdk的环境变量.dea83d48.js"><link rel="prefetch" href="/assets/js/page-Linux，du、df统计的硬盘使用情况不一致问题.978cb098.js"><link rel="prefetch" href="/assets/js/page-MySQLAB简介.5629ad80.js"><link rel="prefetch" href="/assets/js/page-Nginx升级加固SSLTLS协议信息泄露漏洞(CVE-2016-2183)和HTTP服务器的缺省banner漏洞.87d11c9d.js"><link rel="prefetch" href="/assets/js/page-PrometheusAlert.3082f4fc.js"><link rel="prefetch" href="/assets/js/page-Python介绍.4b1d1457.js"><link rel="prefetch" href="/assets/js/page-RabbitMQ高可用集群架构.7fa93de9.js"><link rel="prefetch" href="/assets/js/page-Redis-集群.88102dbf.js"><link rel="prefetch" href="/assets/js/page-Redis是什么.6b65d626.js"><link rel="prefetch" href="/assets/js/page-RequestBodySearch.da703dfc.js"><link rel="prefetch" href="/assets/js/page-SearchAPI.6a70cc80.js"><link rel="prefetch" href="/assets/js/page-Summary.5886df72.js"><link rel="prefetch" href="/assets/js/page-TemplateDBMySQL简介.5ff4a707.js"><link rel="prefetch" href="/assets/js/page-Tomcat错误代号及状态码.4d7d7cd3.js"><link rel="prefetch" href="/assets/js/page-Zabbix-Zookeper-Template.446573b6.js"><link rel="prefetch" href="/assets/js/page-Zabbix客户端日志出现(Notallprocessescouldbeidentified）.4f1d6d5b.js"><link rel="prefetch" href="/assets/js/page-activemq5159集群搭建步骤.82e8c9d0.js"><link rel="prefetch" href="/assets/js/page-ansible配置.c51c5638.js"><link rel="prefetch" href="/assets/js/page-centos65下安装python36、pip、ipython.ebeeaa36.js"><link rel="prefetch" href="/assets/js/page-centos7下搭建shadowsocks.7e27d576.js"><link rel="prefetch" href="/assets/js/page-centos7下时区问题.fea3ab40.js"><link rel="prefetch" href="/assets/js/page-curlhttps报错curl(35)SSLconnecterror.eb8f5d65.js"><link rel="prefetch" href="/assets/js/page-curl方式执行shell脚本时如何传参.133b3db6.js"><link rel="prefetch" href="/assets/js/page-docker搭建redis集群.a29783e3.js"><link rel="prefetch" href="/assets/js/page-echo命令.d21b8bc5.js"><link rel="prefetch" href="/assets/js/page-filebeat的安装注意.54a14f5f.js"><link rel="prefetch" href="/assets/js/page-gitlab备份迁移升级集成openldap.63e3403c.js"><link rel="prefetch" href="/assets/js/page-hash类型.af0bd8e6.js"><link rel="prefetch" href="/assets/js/page-hexo(next)+github博客的搭建.385b44c3.js"><link rel="prefetch" href="/assets/js/page-jenkins常见问题.2b0cade2.js"><link rel="prefetch" href="/assets/js/page-jenkins的安装配置.78f6ffc6.js"><link rel="prefetch" href="/assets/js/page-kafka212集群搭建步骤.7ce7f79b.js"><link rel="prefetch" href="/assets/js/page-keepalived简介.213ecab9.js"><link rel="prefetch" href="/assets/js/page-keepalived详解.cfdc294d.js"><link rel="prefetch" href="/assets/js/page-linux下如何增加swap交换分区.33e14d5b.js"><link rel="prefetch" href="/assets/js/page-list类型.a23f6fd3.js"><link rel="prefetch" href="/assets/js/page-logrotate简介.c0ba7281.js"><link rel="prefetch" href="/assets/js/page-logstash安装注意.e40d6c9b.js"><link rel="prefetch" href="/assets/js/page-mysql最大连接数的改变.adac25e5.js"><link rel="prefetch" href="/assets/js/page-mysql架构.b74326b3.js"><link rel="prefetch" href="/assets/js/page-redis-dump方式导入导出数据.40eaab3e.js"><link rel="prefetch" href="/assets/js/page-redis504集群搭建.eb1497d5.js"><link rel="prefetch" href="/assets/js/page-sed命令详解.a09fe86c.js"><link rel="prefetch" href="/assets/js/page-string类型.6a19222e.js"><link rel="prefetch" href="/assets/js/page-tomcat假死现象.de065d45.js"><link rel="prefetch" href="/assets/js/page-tomcat注意事项.a3d9dabe.js"><link rel="prefetch" href="/assets/js/page-tomcat简介.2fb07ee1.js"><link rel="prefetch" href="/assets/js/page-yum管理RPM包.3e40ee7a.js"><link rel="prefetch" href="/assets/js/page-zabbix-server安装.426c873a.js"><link rel="prefetch" href="/assets/js/page-zabbix添加报警媒介.cc122a95.js"><link rel="prefetch" href="/assets/js/page-zookeeper3414集群搭建步骤.095a8930.js"><link rel="prefetch" href="/assets/js/page-《AdvancedBash-ScriptingGuide》inChinese.dd80ba29.js"><link rel="prefetch" href="/assets/js/page-一、etcsecuritylimitsconf详解.24bb543d.js"><link rel="prefetch" href="/assets/js/page-下载redis-500安装包.3ecc5233.js"><link rel="prefetch" href="/assets/js/page-主库异常，从库手动切换为主库方案.12a1cfc2.js"><link rel="prefetch" href="/assets/js/page-从开源到上市.ef0e14e0.js"><link rel="prefetch" href="/assets/js/page-使用JenkinsPipeline自动化构建发布.2b95c66a.js"><link rel="prefetch" href="/assets/js/page-使用方法.fbb1b153.js"><link rel="prefetch" href="/assets/js/page-关闭被监控端的防火墙.20a11236.js"><link rel="prefetch" href="/assets/js/page-写作前.20b0ba3c.js"><link rel="prefetch" href="/assets/js/page-分布式FastDfs+nginx缓存高可用集群构建.4a6ca89e.js"><link rel="prefetch" href="/assets/js/page-创建、复制、移动、删除.7b07fc9f.js"><link rel="prefetch" href="/assets/js/page-博客主页.4d31bc64.js"><link rel="prefetch" href="/assets/js/page-双圆括号结构.ef310612.js"><link rel="prefetch" href="/assets/js/page-命名.1e4f6982.js"><link rel="prefetch" href="/assets/js/page-基本权限UGO.959da509.js"><link rel="prefetch" href="/assets/js/page-存储引擎简介.304c359c.js"><link rel="prefetch" href="/assets/js/page-安装.b99d68e0.js"><link rel="prefetch" href="/assets/js/page-安装python解释器，配置好path变量。.fbe10936.js"><link rel="prefetch" href="/assets/js/page-安装运行.9f318b89.js"><link rel="prefetch" href="/assets/js/page-导入nginx配置文件.1a52d837.js"><link rel="prefetch" href="/assets/js/page-开机集成zabbix和jumpserver脚本.bfd456f0.js"><link rel="prefetch" href="/assets/js/page-打包、压缩.2c06e254.js"><link rel="prefetch" href="/assets/js/page-数据类型.aaef5f74.js"><link rel="prefetch" href="/assets/js/page-文档的CRUD.e5d335af.js"><link rel="prefetch" href="/assets/js/page-显示当前正在编辑的文件名.42b9a245.js"><link rel="prefetch" href="/assets/js/page-服务器端.836ea2b6.js"><link rel="prefetch" href="/assets/js/page-查看哪些表被锁住了.b8be772f.js"><link rel="prefetch" href="/assets/js/page-查看文件内容.d0ebc2fc.js"><link rel="prefetch" href="/assets/js/page-查看文件类型.e2f5bab7.js"><link rel="prefetch" href="/assets/js/page-查看文件详细属性.897b839c.js"><link rel="prefetch" href="/assets/js/page-标准输入、标准输出、标准错误.6bde74ea.js"><link rel="prefetch" href="/assets/js/page-核心知识点概览.41b611f7.js"><link rel="prefetch" href="/assets/js/page-模板导入.1a5afb11.js"><link rel="prefetch" href="/assets/js/page-正排与倒排索引.8587e1a0.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（21）-find之xargs.e50c84ca.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（29）-chown.0d3a4599.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（33）-du.1f5cbfa7.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（35）-diff.ee0700b4.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（36）-date.82d4fe29.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（42）-killall.5cf9c49e.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（45）-vmstat.ace6e6c8.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（46）-iostat.164686f9.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（49）-lsof.e52b60fb.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（52）-ping.28486057.js"><link rel="prefetch" href="/assets/js/page-每天一个linux命令（53）-traceroute.a917559d.js"><link rel="prefetch" href="/assets/js/page-生产环境中的tomcat配置.f7c06035.js"><link rel="prefetch" href="/assets/js/page-用户管理.56301f55.js"><link rel="prefetch" href="/assets/js/page-由来.6edf022e.js"><link rel="prefetch" href="/assets/js/page-白天做运维，晚上搞副业赚钱.cd93c88e.js"><link rel="prefetch" href="/assets/js/page-第34章陷阱.87e40d5f.js"><link rel="prefetch" href="/assets/js/page-第36章杂项.d73def44.js"><link rel="prefetch" href="/assets/js/page-第一章为什么使用shell编程.6f6436d9.js"><link rel="prefetch" href="/assets/js/page-第一部分初见Shell.f0bda2be.js"><link rel="prefetch" href="/assets/js/page-第七章测试.908f8c11.js"><link rel="prefetch" href="/assets/js/page-第三章特殊字符.8c4f6dd2.js"><link rel="prefetch" href="/assets/js/page-第三部分shell进阶.c25278d3.js"><link rel="prefetch" href="/assets/js/page-第九章换个角度看变量.222d9666.js"><link rel="prefetch" href="/assets/js/page-第二十一章子shell.27dd08f7.js"><link rel="prefetch" href="/assets/js/page-第二十三章进程替换.e882819f.js"><link rel="prefetch" href="/assets/js/page-第二十二章限制模式的Shell.51e3dfd9.js"><link rel="prefetch" href="/assets/js/page-第二十六章列表结构.fb596dde.js"><link rel="prefetch" href="/assets/js/page-第二章和Sha-Bang（!）一起出发.31e978ff.js"><link rel="prefetch" href="/assets/js/page-第二部分shell基础.a9cd1432.js"><link rel="prefetch" href="/assets/js/page-第五章引用.759e909e.js"><link rel="prefetch" href="/assets/js/page-第五部分高级话题.cd52d31a.js"><link rel="prefetch" href="/assets/js/page-第八章运算符相关话题.8626f277.js"><link rel="prefetch" href="/assets/js/page-第六章退出与退出状态.a94d0a8c.js"><link rel="prefetch" href="/assets/js/page-第六部分GoogleShell风格指南.b15a4fcf.js"><link rel="prefetch" href="/assets/js/page-第十一章循环与分支.5ebfa859.js"><link rel="prefetch" href="/assets/js/page-第十三章算术扩展.630497a5.js"><link rel="prefetch" href="/assets/js/page-第十二章命令替换.8faf945a.js"><link rel="prefetch" href="/assets/js/page-第十章变量处理.70a5c8ce.js"><link rel="prefetch" href="/assets/js/page-第四章变量与参数.e8596d58.js"><link rel="prefetch" href="/assets/js/page-第四部分命令.1953908a.js"><link rel="prefetch" href="/assets/js/page-网络基础.18433c7e.js"><link rel="prefetch" href="/assets/js/page-聊透监控体系，就这一篇够不够？.93bb2809.js"><link rel="prefetch" href="/assets/js/page-背景.65c82981.js"><link rel="prefetch" href="/assets/js/page-自动清理.43cfb0f7.js"><link rel="prefetch" href="/assets/js/page-调优的目的：.ea47ca2d.js"><link rel="prefetch" href="/assets/js/page-运算符优先级.4d88eb8f.js"><link rel="prefetch" href="/assets/js/page-通过URIquery实现搜索.538b73c9.js"><link rel="prefetch" href="/assets/js/page-配置.e7c35bdc.js"><link rel="prefetch" href="/assets/js/page-键命令.519ab3be.js"><link rel="prefetch" href="/assets/js/page-附录FIO与IO重定向详细介绍.83876654.js"><link rel="prefetch" href="/assets/js/page-附录TASCII表.c25e457d.js"><link rel="prefetch" href="/assets/js/page-静态查看进程ps.1d3cef8c.js"><link rel="prefetch" href="/assets/js/page-高可用开源方案KeepalivedVSHeartbeat对比.bf5293e7.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.38516bf9.js"><link rel="prefetch" href="/assets/js/vendors~photo-swipe.c96d4469.js"><link rel="prefetch" href="/assets/js/vendors~reveal.8cc4cb86.js"><link rel="prefetch" href="/assets/js/vendors~valine.dcb9754d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.74e162d4.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container has-navbar has-anchor"><header class="navbar"><button class="sidebar-button"><span class="icon"></span></button> <a href="/" class="home-link router-link-active"><img src="/lufei.jpg" alt="IT外卖小哥" class="logo"> <!----> <span class="site-name can-hide">IT外卖小哥</span></a> <div class="links"><button class="color-button"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="skin-icon"><path d="M224 800c0 9.6 3.2 44.8 6.4 54.4 6.4 48-48 76.8-48 76.8s80 41.6 147.2 0 134.4-134.4
        38.4-195.2c-22.4-12.8-41.6-19.2-57.6-19.2C259.2 716.8 227.2 761.6 224 800zM560 675.2l-32
        51.2c-51.2 51.2-83.2 32-83.2 32 25.6 67.2 0 112-12.8 128 25.6 6.4 51.2 9.6 80 9.6 54.4 0
        102.4-9.6 150.4-32l0 0c3.2 0 3.2-3.2 3.2-3.2 22.4-16 12.8-35.2
        6.4-44.8-9.6-12.8-12.8-25.6-12.8-41.6 0-54.4 60.8-99.2 137.6-99.2 6.4 0 12.8 0 22.4
        0 12.8 0 38.4 9.6 48-25.6 0-3.2 0-3.2 3.2-6.4 0-3.2 3.2-6.4 3.2-6.4 6.4-16 6.4-16 6.4-19.2
        9.6-35.2 16-73.6 16-115.2 0-105.6-41.6-198.4-108.8-268.8C704 396.8 560 675.2 560 675.2zM224
        419.2c0-28.8 22.4-51.2 51.2-51.2 28.8 0 51.2 22.4 51.2 51.2 0 28.8-22.4 51.2-51.2 51.2C246.4
        470.4 224 448 224 419.2zM320 284.8c0-22.4 19.2-41.6 41.6-41.6 22.4 0 41.6 19.2 41.6 41.6 0
        22.4-19.2 41.6-41.6 41.6C339.2 326.4 320 307.2 320 284.8zM457.6 208c0-12.8 12.8-25.6 25.6-25.6
        12.8 0 25.6 12.8 25.6 25.6 0 12.8-12.8 25.6-25.6 25.6C470.4 233.6 457.6 220.8 457.6 208zM128
        505.6C128 592 153.6 672 201.6 736c28.8-60.8 112-60.8 124.8-60.8-16-51.2 16-99.2
        16-99.2l316.8-422.4c-48-19.2-99.2-32-150.4-32C297.6 118.4 128 291.2 128 505.6zM764.8
        86.4c-22.4 19.2-390.4 518.4-390.4 518.4-22.4 28.8-12.8 76.8 22.4 99.2l9.6 6.4c35.2 22.4
        80 12.8 99.2-25.6 0 0 6.4-12.8 9.6-19.2 54.4-105.6 275.2-524.8 288-553.6
        6.4-19.2-3.2-32-19.2-32C777.6 76.8 771.2 80 764.8 86.4z"></path></svg> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><ul class="themecolor-select"><label for="themecolor-select">主题色:</label> <li><a href="#" class="default-theme"></a></li> </ul> <div class="darkmode-toggle"><label for="darkmode-toggle" class="desc">主题模式:</label> <div class="darkmode-switch"><div class="item day"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon light-icon"><path d="M512 256a42.667 42.667 0 0 0 42.667-42.667V128a42.667 42.667 0 0 0-85.334 0v85.333A42.667 42.667 0 0 0 512 256zm384 213.333h-85.333a42.667 42.667 0 0 0 0 85.334H896a42.667 42.667 0 0 0 0-85.334zM256 512a42.667 42.667 0 0 0-42.667-42.667H128a42.667 42.667 0 0 0 0 85.334h85.333A42.667 42.667 0 0 0 256 512zm9.387-298.667a42.667 42.667 0 0 0-59.307 62.72l61.44 59.307a42.667 42.667 0 0 0 31.147 11.947 42.667 42.667 0 0 0 30.72-13.227 42.667 42.667 0 0 0 0-60.16zm459.946 133.974a42.667 42.667 0 0 0 29.44-11.947l61.44-59.307a42.667 42.667 0 0 0-57.6-62.72l-61.44 60.587a42.667 42.667 0 0 0 0 60.16 42.667 42.667 0 0 0 28.16 13.227zM512 768a42.667 42.667 0 0 0-42.667 42.667V896a42.667 42.667 0 0 0 85.334 0v-85.333A42.667 42.667 0 0 0 512 768zm244.48-79.36a42.667 42.667 0 0 0-59.307 61.44l61.44 60.587a42.667 42.667 0 0 0 29.44 11.946 42.667 42.667 0 0 0 30.72-12.8 42.667 42.667 0 0 0 0-60.586zm-488.96 0-61.44 59.307a42.667 42.667 0 0 0 0 60.586 42.667 42.667 0 0 0 30.72 12.8 42.667 42.667 0 0 0 28.587-10.666l61.44-59.307a42.667 42.667 0 0 0-59.307-61.44zM512 341.333A170.667 170.667 0 1 0 682.667 512 170.667 170.667 0 0 0 512 341.333z" fill="currentColor"></path></svg></div> <div class="item auto active"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon auto-icon"><path d="M460.864 539.072H564.8L510.592 376l-49.728 163.072zM872 362.368V149.504H659.648L510.528 0l-149.12 149.504H149.12v212.928L0 511.872l149.12 149.504v212.928h212.352l149.12 149.504 149.12-149.504h212.352V661.376l149.12-149.504L872 362.368zM614.464 693.12l-31.616-90.624H438.272l-31.616 90.624h-85.888l144.576-407.68h90.368l144.576 407.68h-85.824zm0 0" fill="currentColor"></path></svg></div> <div class="item night"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon dark-icon"><path d="M935.539 630.402c-11.43-11.432-28.674-14.739-43.531-8.354-46.734 20.103-96.363 30.297-147.508 30.297-99.59 0-193.221-38.784-263.64-109.203-108.637-108.637-139.61-270.022-78.908-411.148a39.497 39.497 0 0 0-51.886-51.887c-52.637 22.64-100.017 54.81-140.826 95.616-85.346 85.346-132.346 198.821-132.346 319.52 0 120.7 47.001 234.172 132.347 319.519S408.063 947.11 528.76 947.11c120.7 0 234.172-47.003 319.52-132.351 40.809-40.81 72.978-88.19 95.616-140.826a39.497 39.497 0 0 0-8.356-43.532z" fill="currentColor"></path></svg></div></div> <!----></div></div></div></button> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  博客主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="推荐教程" class="dropdown-title"><span class="title"><i class="iconfont icon-software"></i>
        推荐教程
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><a href="/code/shell/" class="nav-link"><i class="iconfont icon-shell"></i>
  Shell
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><span class="title"><i class="iconfont icon-code"></i>
        学习笔记
      </span> <span class="arrow down"></span></button> <ul class="nav-dropdown"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>容器</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/container/kubernetes/" class="nav-link"><i class="iconfont icon-kubernetes"></i>
  Kubernetes
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>编程语言</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/code/python/" class="nav-link"><i class="iconfont icon-python"></i>
  Python
</a></li><li class="dropdown-subitem"><a href="/code/golang/" class="nav-link"><i class="iconfont icon-go"></i>
  Golang
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>web中间件</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/nginx/" class="nav-link"><i class="iconfont icon-nginx"></i>
  Nginx
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>自动化工具</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/automate/ansible/" class="nav-link"><i class="iconfont icon-ansible"></i>
  Ansible
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>监控工具</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/monitor/elk/" class="nav-link"><i class="iconfont icon-elastic"></i>
  ELK
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据库</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link"><i class="iconfont icon-mysql"></i>
  MySQL
</a></li></ul></li></ul></div></div></nav> <!----> <a rel="noopener noreferrer" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" class="repo-link can-hide">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><div vocab="https://schema.org/" typeof="Person" class="blogger-info mobile"><div data-balloon-pos="down" class="blogger hasIntro"><img property="image" alt="Blogger Avatar" src="/lufei.jpg" class="avatar round"> <div property="name" class="name">Clay</div> <meta property="url" content="/intro/"></div> <div class="num-wrapper"><div><div class="num">238</div> <div>文章</div></div> <div><div class="num">4</div> <div>分类</div></div> <div><div class="num">13</div> <div>标签</div></div> <div><div class="num">238</div> <div>时间轴</div></div></div> <div class="media-links-wrapper"><a href="mailto:clay_wangzhi@163.com" rel="noopener noreferrer" target="_blank" aria-label="Email" data-balloon-pos="up" class="media-link"><span class="sr-only">Email</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-email"><path d="M0 512a512 512 0 101024 0A512 512 0 100 512z" fill="#1384FF"></path> <path d="M299.372 313.572H722.93c28.945 0 52.61 21.845 52.975 48.787L511.333 500.35 246.76 362.481c.182-27.003 23.666-48.97 52.611-48.97zm-52.671 101.702l-.243 244.121c0 27.186 23.848 49.395 52.914 49.395H722.93c29.127 0 52.975-22.21 52.975-49.395V415.152L517.522 546.71a13.957 13.957 0 01-12.682 0L246.7 415.274z" fill="#FFF"></path></svg></a></div></div> <hr>  <nav class="sidebar-nav-links"><div class="nav-item"><a href="/" class="nav-link router-link-active"><i class="iconfont icon-home"></i>
  博客主页
</a></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="推荐教程" class="dropdown-title"><span class="title"><i class="iconfont icon-software"></i>
      推荐教程
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/code/shell/" class="nav-link"><i class="iconfont icon-shell"></i>
  Shell
</a></li></ul></div></div><div class="nav-item"><div class="mobile-dropdown-wrapper"><button type="button" aria-label="学习笔记" class="dropdown-title"><span class="title"><i class="iconfont icon-code"></i>
      学习笔记
    </span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>容器</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/container/kubernetes/" class="nav-link"><i class="iconfont icon-kubernetes"></i>
  Kubernetes
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>编程语言</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/code/python/" class="nav-link"><i class="iconfont icon-python"></i>
  Python
</a></li><li class="dropdown-subitem"><a href="/code/golang/" class="nav-link"><i class="iconfont icon-go"></i>
  Golang
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>web中间件</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/web/nginx/" class="nav-link"><i class="iconfont icon-nginx"></i>
  Nginx
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>自动化工具</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/automate/ansible/" class="nav-link"><i class="iconfont icon-ansible"></i>
  Ansible
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>监控工具</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/monitor/elk/" class="nav-link"><i class="iconfont icon-elastic"></i>
  ELK
</a></li></ul></li><li class="dropdown-item"><h4 class="dropdown-subtitle"><span>数据库</span></h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/db/mysql/" class="nav-link"><i class="iconfont icon-mysql"></i>
  MySQL
</a></li></ul></li></ul></div></div> <a rel="noopener noreferrer" href="https://github.com/vuepress-theme-hope/vuepress-theme-hope" target="_blank" class="repo-link">
  GitHub
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <!----> </aside> <main class="page"><nav class="breadcrumb disable"><!----></nav>  <div vocab="https://schema.org/" typeof="Article" class="page-title"><h1><!----> <span property="headline">Harbor简介</span></h1> <div class="page-info"><!----> <span aria-label="写作日期📅" data-balloon-pos="down" class="time-info"><svg viewBox="0 0 1030 1024" xmlns="http://www.w3.org/2000/svg" class="icon calendar-icon"><path d="M716.4 110.137c0-18.753-14.72-33.473-33.472-33.473-18.753 0-33.473 14.72-33.473 33.473v33.473h66.993v-33.473zm-334.87 0c0-18.753-14.72-33.473-33.473-33.473s-33.52 14.72-33.52 33.473v33.473h66.993v-33.473zm468.81 33.52H716.4v100.465c0 18.753-14.72 33.473-33.472 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H381.53v100.465c0 18.753-14.72 33.473-33.473 33.473a33.145 33.145 0 0 1-33.473-33.473V143.657H180.6A134.314 134.314 0 0 0 46.66 277.595v535.756A134.314 134.314 0 0 0 180.6 947.289h669.74a134.36 134.36 0 0 0 133.94-133.938V277.595a134.314 134.314 0 0 0-133.94-133.938zm33.473 267.877H147.126a33.145 33.145 0 0 1-33.473-33.473c0-18.752 14.72-33.473 33.473-33.473h736.687c18.752 0 33.472 14.72 33.472 33.473a33.145 33.145 0 0 1-33.472 33.473z" fill="currentColor"></path></svg> <span property="datePublished">2021年4月2日 14:48</span></span><span aria-label="作者🖊" data-balloon-pos="down"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon author-icon"><path d="M649.6 633.6c86.4-48 147.2-144 147.2-249.6 0-160-128-288-288-288s-288 128-288 288c0 108.8 57.6 201.6 147.2 249.6-121.6 48-214.4 153.6-240 288-3.2 9.6 0 19.2 6.4 25.6 3.2 9.6 12.8 12.8 22.4 12.8h704c9.6 0 19.2-3.2 25.6-12.8 6.4-6.4 9.6-16 6.4-25.6-25.6-134.4-121.6-240-243.2-288z" fill="currentColor"></path></svg> <span property="author">Clay</span></span><span aria-label="访问量🔢" data-balloon-pos="down" class="visitor-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon eye-icon"><path d="M992 512.096c0-5.76-.992-10.592-1.28-11.136-.192-2.88-1.152-8.064-2.08-10.816-.256-.672-.544-1.376-.832-2.08-.48-1.568-1.024-3.104-1.6-4.32C897.664 290.112 707.104 160 512 160c-195.072 0-385.632 130.016-473.76 322.592-1.056 2.112-1.792 4.096-2.272 5.856a55.512 55.512 0 0 0-.64 1.6c-1.76 5.088-1.792 8.64-1.632 7.744-.832 3.744-1.568 11.168-1.568 11.168-.224 2.272-.224 4.032.032 6.304 0 0 .736 6.464 1.088 7.808.128 1.824.576 4.512 1.12 6.976h-.032c.448 2.08 1.12 4.096 1.984 6.08.48 1.536.992 2.976 1.472 4.032C126.432 733.856 316.992 864 512 864c195.136 0 385.696-130.048 473.216-321.696 1.376-2.496 2.24-4.832 2.848-6.912.256-.608.48-1.184.672-1.728 1.536-4.48 1.856-8.32 1.728-8.32l-.032.032c.608-3.104 1.568-7.744 1.568-13.28zM512 672c-88.224 0-160-71.776-160-160s71.776-160 160-160 160 71.776 160 160-71.776 160-160 160z" fill="currentColor"></path></svg> <span id="/container/Docker/docker_harbor_ha/" data-flag-title="Harbor简介" class="leancloud_visitors"><span class="leancloud-visitors-count">...</span></span></span><span aria-label="阅读时间⌛" data-balloon-pos="down" class="reading-time-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon timer-icon"><path d="M799.387 122.15c4.402-2.978 7.38-7.897 7.38-13.463v-1.165c0-8.933-7.38-16.312-16.312-16.312H256.33c-8.933 0-16.311 7.38-16.311 16.312v1.165c0 5.825 2.977 10.874 7.637 13.592 4.143 194.44 97.22 354.963 220.201 392.763-122.204 37.542-214.893 196.511-220.2 389.397-4.661 5.049-7.638 11.651-7.638 19.03v5.825h566.49v-5.825c0-7.379-2.849-13.981-7.509-18.9-5.049-193.016-97.867-351.985-220.2-389.527 123.24-37.67 216.446-198.453 220.588-392.892zM531.16 450.445v352.632c117.674 1.553 211.787 40.778 211.787 88.676H304.097c0-48.286 95.149-87.382 213.728-88.676V450.445c-93.077-3.107-167.901-81.297-167.901-177.093 0-8.803 6.99-15.793 15.793-15.793 8.803 0 15.794 6.99 15.794 15.793 0 80.261 63.69 145.635 142.01 145.635s142.011-65.374 142.011-145.635c0-8.803 6.99-15.793 15.794-15.793s15.793 6.99 15.793 15.793c0 95.019-73.789 172.82-165.96 177.093z" fill="currentColor"></path></svg> <span>大约 10 分钟</span> <meta property="timeRequired" content="PT10M"></span><span aria-label="字数🔠" data-balloon-pos="down" class="words-info"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon word-icon"><path d="M518.217 432.64V73.143A73.143 73.143 0 0 1 603.43 1.097a512 512 0 0 1 419.474 419.474 73.143 73.143 0 0 1-72.046 85.212H591.36a73.143 73.143 0 0 1-73.143-73.143z" fill="currentColor"></path> <path d="M493.714 566.857h340.297a73.143 73.143 0 0 1 73.143 85.577A457.143 457.143 0 1 1 371.566 117.76a73.143 73.143 0 0 1 85.577 73.143v339.383a36.571 36.571 0 0 0 36.571 36.571z" fill="currentColor"></path></svg> <span>约 3023 字</span> <meta property="wordCount" content="3023"></span><!----><!----></div> <!----> <hr></div> <div class="anchor-place-holder"><aside id="anchor"><div class="anchor-wrapper"><ul class="anchor-list"><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#harbor简介" class="anchor-link heading2"><div>Harbor简介</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#高可用架构-双主复制" class="anchor-link heading2"><div>高可用架构：双主复制</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#主从同步" class="anchor-link heading3"><div>主从同步</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#双主复制说明" class="anchor-link heading3"><div>双主复制说明</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#高可用架构-多实例共享后端存储" class="anchor-link heading2"><div>高可用架构：多实例共享后端存储</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#方案说明" class="anchor-link heading3"><div>方案说明</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#环境说明" class="anchor-link heading3"><div>环境说明</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#多实例共享后端存储-部署" class="anchor-link heading2"><div>多实例共享后端存储 部署</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#docker" class="anchor-link heading3"><div>Docker</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#compose" class="anchor-link heading3"><div>Compose</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#nfs" class="anchor-link heading3"><div>NFS</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#postgresql" class="anchor-link heading3"><div>PostgreSQL</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#redis" class="anchor-link heading3"><div>Redis</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#harbor" class="anchor-link heading3"><div>Harbor</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#nginx" class="anchor-link heading3"><div>Nginx</div></a></li><li class="anchor"><a href="/container/Docker/docker_harbor_ha/#参考文章" class="anchor-link heading2"><div>参考文章</div></a></li></ul></div></aside></div> <div class="theme-default-content content__default"><h2 id="harbor简介"><a href="#harbor简介" class="header-anchor">#</a> Harbor简介</h2> <p><a href="https://goharbor.io/" target="_blank" rel="noopener noreferrer">Harbor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是一个用于存储和分发<code>Docker镜像</code>的企业级<code>Registry</code>服务器，通过添加一些企业必需的功能特性，例如安全、标识和管理等，扩展了开源Docker Distribution。</p> <p>作为一个企业级私有Registry服务器，Harbor提供了更好的性能和安全。</p> <p>提升用户使用Registry构建和运行环境传输镜像的效率。</p> <p>Harbor支持安装在多个Registry节点的镜像资源复制，镜像全部保存在私有Registry中， 确保数据和知识产权在公司内部网络中管控。</p> <p>另外，Harbor也提供了高级的安全特性，诸如用户管理，访问控制和活动审计等。</p> <h2 id="高可用架构-双主复制"><a href="#高可用架构-双主复制" class="header-anchor">#</a> 高可用架构：双主复制</h2> <h3 id="主从同步"><a href="#主从同步" class="header-anchor">#</a> 主从同步</h3> <p>harbor官方默认提供主从复制的方案来解决镜像同步问题，通过复制的方式，我们可以实时将测试环境harbor仓库的镜像同步到生产环境harbor，类似于如下流程：</p> <p><img src="https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/harbor_CI.png" alt="img"></p> <p>在实际生产运维的中，往往需要把镜像发布到几十或上百台集群节点上。这时，单个Registry已经无法满足大量节点的下载需求，因此要配置多个Registry实例做负载均衡。手工维护多个Registry实例上的镜像，将是十分繁琐的事情。Harbor可以支持一主多从的镜像发布模式，可以解决大规模镜像发布的难题：</p> <p><img src="https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/harbor_ab.png" alt="img"></p> <p>只要往一台Harbor上发布，镜像就会像&quot;仙女散花&quot;般地同步到多个Registry中，高效可靠。</p> <p>如果是地域分布较广的集群，还可以采用层次型发布方式，比如从集团总部机房同步到分公司1机房，再从分公司1机房同步到分公司2机房：</p> <p><img src="https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/harbor_cl.png" alt="img"></p> <p>然而单靠主从同步，仍然解决不了harbor主节点的单点问题。</p> <h3 id="双主复制说明"><a href="#双主复制说明" class="header-anchor">#</a> 双主复制说明</h3> <p>所谓的双主复制其实就是复用主从同步实现两个harbor节点之间的双向同步，来保证数据的一致性，然后在两台harbor前端顶一个负载均衡器将进来的请求分流到不同的实例中去，只要有一个实例中有了新的镜像，就是自动的同步复制到另外的的实例中去，这样实现了负载均衡，也避免了单点故障，在一定程度上实现了Harbor的高可用性：</p> <p><img src="https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/harbor_st.png" alt="img"></p> <p>这个方案有一个问题就是有可能两个Harbor实例中的数据不一致。假设如果一个实例A挂掉了，这个时候有新的镜像进来，那么新的镜像就会在另外一个实例B中，后面即使恢复了挂掉的A实例，Harbor实例B也不会自动去同步镜像，这样只能手动的先关掉Harbor实例B的复制策略，然后再开启复制策略，才能让实例B数据同步，让两个实例的数据一致。另外，这里还需要多吐槽一句：<strong>在实际生产使用中，主从复制十分的不靠谱！！<strong>所以这里</strong>推荐使用下面要说的这种方案</strong>。</p> <h2 id="高可用架构-多实例共享后端存储"><a href="#高可用架构-多实例共享后端存储" class="header-anchor">#</a> 高可用架构：多实例共享后端存储</h2> <h3 id="方案说明"><a href="#方案说明" class="header-anchor">#</a> 方案说明</h3> <p>共享后端存储算是一种比较标准的方案，就是多个Harbor实例共享同一个后端存储，任何一个实例持久化到存储的镜像，都可被其他实例中读取。通过前置LB进来的请求，可以分流到不同的实例中去处理，这样就实现了负载均衡，也避免了单点故障。</p> <p>本次搭建以NFS作为共享存储存放Harbor相关data，并分离PostgreSQL与Redis为多个Harbor共同连接使用，使用Nginx做负载均衡。</p> <p><img src="https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/harbor_ha_r.png" alt="img"></p> <p>如果最终生产环境集群中服务器较多，依赖做完LB的Harbor也无法完全达到需求时，可以使用如下架构，部署下级Harbor节点从主节点同步镜像，然后再分发给生产服务器。</p> <p><img src="https://gitee.com/clay-wangzhi/blogImg/raw/master/blogImg/harbor_ha_l.png" alt="img"></p> <p>这个方案在实际生产环境中部署需要考虑三个问题：</p> <p><strong>1.</strong> 共享存储的选取，Harbor的后端存储目前支持AWS S3、Openstack Swift, Ceph等，在下面的实验环境里，暂且直接使用nfs。</p> <p><strong>2.</strong> Session在不同的实例上共享，这个现在其实已经不是问题了，在最新的harbor中，默认session会存放在redis中，只需要将redis独立出来即可。可以通过redis sentinel或者redis cluster等方式来保证redis的可用性。在下面的实验环境里，暂且使用单台redis。</p> <p><strong>3.</strong> Harbor多实例数据库问题，这个也只需要将harbor中的数据库拆出来独立部署即可。让多实例共用一个外部数据库，数据库的高可用也可以通过数据库的高可用方案保证。</p> <h3 id="环境说明"><a href="#环境说明" class="header-anchor">#</a> 环境说明</h3> <ul><li>操作系统：<code>CentOS 7.6</code></li> <li>演示环境软件版本</li></ul> <table><thead><tr><th>软件</th> <th>版本</th></tr></thead> <tbody><tr><td>Docker</td> <td>19.03.8</td></tr> <tr><td>docker-compose</td> <td>1.25.5</td></tr> <tr><td>Harbor</td> <td>1.10.2</td></tr> <tr><td>Nginx</td> <td>1.14.0</td></tr> <tr><td>PostgreSQL</td> <td>9.6.17</td></tr> <tr><td>Redis</td> <td>3.2.12</td></tr></tbody></table> <ul><li>演示环境网络</li></ul> <p>这里主要做Harbor高可用演示，真实生产环境请按需分离NFS与DB单独部署。</p> <table><thead><tr><th>IP</th> <th>主机名</th></tr></thead> <tbody><tr><td>192.168.16.141</td> <td>Nginx</td></tr> <tr><td>192.168.166.122</td> <td>NFS</td></tr> <tr><td>192.168.166.203</td> <td>postgresql</td></tr> <tr><td>192.168.166.245</td> <td>Redis</td></tr> <tr><td>192.168.166.81</td> <td>Harbor-01</td></tr> <tr><td>192.168.166.212</td> <td>Harbor-02</td></tr></tbody></table> <h2 id="多实例共享后端存储-部署"><a href="#多实例共享后端存储-部署" class="header-anchor">#</a> 多实例共享后端存储 部署</h2> <h3 id="docker"><a href="#docker" class="header-anchor">#</a> Docker</h3> <p>1）安装依赖包：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum <span class="token function">install</span> -y yum-utils <span class="token punctuation">\</span>
  device-mapper-persistent-data <span class="token punctuation">\</span>
  lvm2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>2）官方一键脚本安装</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -fsSL get.docker.com -o get-docker.sh
<span class="token function">sh</span> get-docker.sh --mirror Aliyun
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3）添加内核参数</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">tee</span> -a /etc/sysctl.conf <span class="token operator">&lt;&lt;-</span><span class="token string">EOF
net.bridge.bridge-nf-call-ip6tables = 1
net.bridge.bridge-nf-call-iptables = 1
EOF</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>将<code>net.ipv4.ip_forward</code>赋值为<code>1</code></p> <p>然后刷新内核参数</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>sysctl -p
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>4）修改Docker仓库为国内镜像站</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -sSL https://get.daocloud.io/daotools/set_mirror.sh <span class="token operator">|</span> <span class="token function">sh</span> -s https://pclhthp0.mirror.aliyuncs.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>5）启动Docker</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> docker <span class="token operator">&amp;&amp;</span> systemctl start docker
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="compose"><a href="#compose" class="header-anchor">#</a> Compose</h3> <p><a href="https://github.com/docker/compose/releases" target="_blank" rel="noopener noreferrer">compose<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>是Docker提供的一个命令行工具，用来定义和运行由多个容器组成的应用。使用compose，我们可以通过YAML文件声明式的定义应用程序的各个服务，并由单个命令完成应用的创建和启动。</p> <p>由于国内政策原因，可能在海外网站上下载文件速度较慢，建议下载本地后上传至服务器</p> <p>1）下载<code>docker-compose</code>并赋予可执行权限</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># curl -L https://github.com/docker/compose/releases/download/1.24.1/docker-compose-`uname -s`-`uname -m` &gt; /usr/local/bin/docker-compose</span>
<span class="token comment"># chmod +x /usr/local/bin/docker-compose</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> /usr/local/bin
<span class="token function">scp</span> <span class="token number">192.168</span>.166.96:/usr/local/bin/docker-compose <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>注意：由于我其他服务器已经存在，所以我直接拷贝了</p></blockquote> <p>2）安装bash补全命令</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># curl -L https://raw.githubusercontent.com/docker/compose/1.24.1/contrib/completion/bash/docker-compose &gt; /etc/bash_completion.d/docker-compose</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>scp 192.168.166.96:/etc/bash_completion.d/docker-compose /etc/bash_completion.d/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>重新连接终端即生效</p> <blockquote><p>注意：由于我其他服务器已经存在，所以我直接拷贝了</p></blockquote> <h3 id="nfs"><a href="#nfs" class="header-anchor">#</a> NFS</h3> <h4 id="服务端"><a href="#服务端" class="header-anchor">#</a> 服务端</h4> <p>1）安装必需的RPM包</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum -y <span class="token function">install</span> nfs-utils rpcbind   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2）创建NFS共享目录</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> -p /data/harbor_data
<span class="token function">chown</span> nobody:nobody /data/harbor_data/ 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3）修改NFS服务配置文件</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">echo</span> <span class="token string">&quot;/data/harbor_data 192.168.166.0/24(rw,sync,no_root_squash)&quot;</span>  <span class="token operator">&gt;&gt;</span> /etc/exports
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>4）启动NFS服务器</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> rpcbind <span class="token operator">&amp;&amp;</span> systemctl restart rpcbind
systemctl <span class="token builtin class-name">enable</span> nfs <span class="token operator">&amp;&amp;</span> systemctl restart nfs
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="客户端"><a href="#客户端" class="header-anchor">#</a> 客户端</h4> <p>1）安装nfs-utils</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum -y <span class="token function">install</span> nfs-utils
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2）在NFS客户端上查看NFS的连通性</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># showmount -e 192.168.166.122</span>
Export list <span class="token keyword">for</span> <span class="token number">192.168</span>.166.122:
/data/harbor_data <span class="token number">192.168</span>.166.0/24
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>3）挂载NFS共享存储</p> <p>创建挂载目录</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mkdir /data
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改/etc/fstab配置文件加入以下内容</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>192.168.166.122:/data/harbor_data  /data  nfs defaults 0 0
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>mount挂载</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>mount -a
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="postgresql"><a href="#postgresql" class="header-anchor">#</a> PostgreSQL</h3> <p>1）下载PostgreSQL官方YUM源配置文件包并安装</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">wget</span> https://download.postgresql.org/pub/repos/yum/reporpms/EL-7-x86_64/pgdg-redhat-repo-latest.noarch.rpm
<span class="token function">rpm</span> -ivh pgdg-redhat-repo-latest.noarch.rpm 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2）安装PostgreSQL</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum  -y <span class="token function">install</span> postgresql96-server postgresql96-contrib 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>3）初始化数据库</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>/usr/pgsql-9.6/bin/postgresql96-setup initdb  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>4）启动数据库</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> postgresql-9.6 <span class="token operator">&amp;&amp;</span> systemctl restart postgresql-9.6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>5）PostgreSQL数据库配置</p> <ol><li><p>修改密码</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># su - postgres</span>
-bash-4.2$ psql
psql <span class="token punctuation">(</span><span class="token number">9.6</span>.17<span class="token punctuation">)</span>
Type <span class="token string">&quot;help&quot;</span> <span class="token keyword">for</span> help.
<span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># ALTER USER postgres WITH PASSWORD 'postgres';</span>
ALTER ROLE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>开启远程访问</p> <p><code>vi /var/lib/pgsql/9.6/data/postgresql.conf</code></p> <p># listen_addresses = 'localhost' 改为 listen_addresses='*'</p></li> <li><p>信任远程连接</p> <p><code>vim /var/lib/pgsql/9.6/data/pg_hba.conf</code></p> <p>加入:</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">host</span>    all  all  <span class="token number">192.168</span>.166.203/32 trust
<span class="token function">host</span>    all  all  <span class="token number">192.168</span>.166.81/32 trust
<span class="token function">host</span>    all  all  <span class="token number">192.168</span>.166.212/32 trust
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <p>6）重启PostgreSQL服务</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl restart postgresql-9.6
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>7）验证服务</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>psql -h 192.168.166.203 -p 5432 -U postgres
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>8）迁移数据库</p> <ol><li>在postgresql所在服务器，先启动一套harbor环境</li></ol> <p>简要步骤如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># yum install -y yum-utils   device-mapper-persistent-data   lvm2
# curl -fsSL get.docker.com -o get-docker.sh
# sh get-docker.sh --mirror Aliyun
#curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s https://pclhthp0.mirror.aliyuncs.com
# systemctl enable docker &amp;&amp; systemctl start docker
# cd /usr/local/bin
# scp 192.168.166.96:/usr/local/bin/docker-compose .
# scp 192.168.166.96:/etc/bash_completion.d/docker-compose /etc/bash_completion.d/
# cd ~
# scp 192.168.166.96:/root/harbor-offline-installer-v1.10.2.tgz .
# tar -xvf harbor-offline-installer-v1.10.2.tgz -C /usr/local/
# cd /usr/local/harbor/
# vim harbor.yml ###修改hostname: 192.168.166.203  ####注释掉https段即可
# ./prepare 
# ./install.sh 
# docker-compose up -d
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><ol start="2"><li><p>进入harbor-db容器导出相关表及数据</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># docker container exec -it harbor-db /bin/bash</span>
pg_dump -U postgres registry <span class="token operator">&gt;</span> /tmp/registry.sql 
pg_dump -U postgres notarysigner <span class="token operator">&gt;</span> /tmp/notarysigner.sql  
pg_dump -U postgres notaryserver <span class="token operator">&gt;</span> /tmp/notaryserver.sql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>导出数据库</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>docker container <span class="token function">cp</span> harbor-db:/tmp/registry.sql /tmp
docker container <span class="token function">cp</span> harbor-db:/tmp/notarysigner.sql /tmp
docker container <span class="token function">cp</span> harbor-db:/tmp/notaryserver.sql /tmp
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li> <li><p>将数据导入至外部PostgreSQL数据库</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># psql -h 192.168.166.203 -U postgres</span>
<span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># create database registry;</span>
CREATE DATABASE
<span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># create database notarysigner;</span>
CREATE DATABASE
<span class="token assign-left variable">postgres</span><span class="token operator">=</span><span class="token comment"># create database notaryserver;</span>
CREATE DATABASE
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><div class="language-bash line-numbers-mode"><pre class="language-bash"><code>psql -h <span class="token number">192.168</span>.166.203 -U postgres registry <span class="token operator">&lt;</span> /tmp/registry.sql
psql -h <span class="token number">192.168</span>.166.203 -U postgres notarysigner  <span class="token operator">&lt;</span> /tmp/notarysigner.sql
psql -h <span class="token number">192.168</span>.166.203 -U postgres notaryserver <span class="token operator">&lt;</span> /tmp/notaryserver.sql
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol> <h3 id="redis"><a href="#redis" class="header-anchor">#</a> Redis</h3> <p>1）安装redis</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>yum -y <span class="token function">install</span> redis
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>2） 修改配置参数</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">sed</span> -i <span class="token string">'s/bind 127.0.0.1/bind 0.0.0.0/g'</span> /etc/redis.conf   
<span class="token function">sed</span> -i <span class="token string">'s/daemonize no/daemonize yes/g'</span> /etc/redis.conf   
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>3）启动并测试redis连接</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>systemctl <span class="token builtin class-name">enable</span> redis <span class="token operator">&amp;&amp;</span> systemctl restart redis
redis-cli 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="harbor"><a href="#harbor" class="header-anchor">#</a> Harbor</h3> <p>下载<a href="https://github.com/goharbor/harbor/releases" target="_blank" rel="noopener noreferrer">Harbor<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>离线安装包，离线安装包文件较大（约为：590M），建议在本地使用多线程工具下载后上传服务器使用。</p> <p>1）下载</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> ~
<span class="token function">scp</span> <span class="token number">192.168</span>.166.96:/root/harbor-offline-installer-v1.10.2.tgz <span class="token builtin class-name">.</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>2）解压</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token function">tar</span> -xvf harbor-offline-installer-v1.10.2.tgz -C /usr/local/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>3）修改配置文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># cd /usr/local/harbor/
# vim harbor.yml 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>修改的内容有</p> <ul><li><code>hostname</code>修改为本机ip</li> <li>注释掉https</li> <li>修改harbor默认的admin账号密码</li> <li>数据存储位置，改为nfs挂载目录，因为我们本来就挂载到了<code>/data</code>目录下，所以不用动</li> <li>注释掉<code>database</code></li> <li>注释掉<code>clair</code></li> <li>打开<code>external_database</code>和<code>external_redis</code>块的注释，并改为刚刚部署的地址</li></ul> <p>修改完的样例文件，如下</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>hostname: 192.168.166.81
http:
  port: 80
harbor_admin_password: Harbor12345
data_volume: /data
jobservice:
  max_job_workers: 10
notification:
  webhook_job_max_retry: 10
chart:
  absolute_url: disabled
log:
  level: info
  local:
    rotate_count: 50
    rotate_size: 200M
    location: /var/log/harbor
_version: 1.10.0
external_database:
  harbor:
    host: 192.168.166.203
    port: 5432
    db_name: registry
    username: postgres
    password: postgres
    ssl_mode: disable
    max_idle_conns: 2
    max_open_conns: 0
  clair:
    host: 192.168.166.203
    port: 5432
    db_name: clair
    username: postgres
    password: postgres
    ssl_mode: disable
  notary_signer:
    host: 192.168.166.203
    port: 5432
    db_name: notarysigner
    username: postgres
    password: postgres
    ssl_mode: disable
  notary_server:
    host: 192.168.166.203
    port: 5432
    db_name: notaryserver
    username: postgres
    password: postgres
    ssl_mode: disable
external_redis:
  host: 192.168.166.245
  port: 6379
  password:
  registry_db_index: 1
  jobservice_db_index: 2
  chartmuseum_db_index: 3
  clair_db_index: 4
proxy:
  http_proxy:
  https_proxy:
  no_proxy:
  components:
    - core
    - jobservice
    - clair
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br></div></div><p>4）生成harbor运行的必要文件（环境）以及<code>docker-compose.yml</code>文件；执行后会通过网络获取Docker Image，建议提前修改好国内镜像站加速。</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./prepare 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>5）安装Harbor</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>./install.sh 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="nginx"><a href="#nginx" class="header-anchor">#</a> Nginx</h3> <p>1）安装nginx</p> <p>安装可以参考https://wiki.clay-wangzhi.com/7-nginx/1.-chu-shi-nginx#4-bian-yi-an-zhuang-nginx</p> <p>这里我就不再详细讲了</p> <p>2）编写配置文件</p> <div class="language-nginx line-numbers-mode"><pre class="language-nginx"><code><span class="token comment"># cat harbor.schengle.com.conf </span>
<span class="token keyword">upstream</span> harbor <span class="token punctuation">{</span>
    <span class="token keyword">ip_hash</span><span class="token punctuation">;</span>
    <span class="token keyword">server</span> <span class="token number">192.168</span><span class="token number">.166</span><span class="token number">.81</span><span class="token punctuation">:</span><span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token keyword">server</span> <span class="token number">192.168</span><span class="token number">.166</span><span class="token number">.212</span><span class="token punctuation">:</span><span class="token number">80</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">server</span> <span class="token punctuation">{</span>
    <span class="token keyword">listen</span>       <span class="token number">80</span><span class="token punctuation">;</span>
    <span class="token keyword">server_name</span>  harbor<span class="token punctuation">.</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">.</span>com<span class="token punctuation">;</span>
    <span class="token keyword">rewrite</span> <span class="token operator">^</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">https</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token variable">$server_name</span>$<span class="token number">1</span> permanent<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">server</span> <span class="token punctuation">{</span>
    <span class="token keyword">listen</span>  <span class="token number">443</span> <span class="token keyword">ssl</span><span class="token punctuation">;</span>
    <span class="token keyword">server_name</span> harbor<span class="token punctuation">.</span>schengle<span class="token punctuation">.</span>com<span class="token punctuation">;</span>
    
    <span class="token keyword">ssl_certificate</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">.</span>crt<span class="token punctuation">;</span>
    <span class="token keyword">ssl_certificate_key</span> <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token punctuation">.</span>key<span class="token punctuation">;</span>
    <span class="token keyword">client_max_body_size</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">chunked_transfer_encoding</span> on<span class="token punctuation">;</span>

    <span class="token keyword">location</span> <span class="token operator">/</span> <span class="token punctuation">{</span>
        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token comment">#proxy_set_header Host $host;</span>
        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>Proto <span class="token keyword">https</span><span class="token punctuation">;</span>
        <span class="token keyword">proxy_redirect</span> off<span class="token punctuation">;</span>
        proxy_ssl_verify off<span class="token punctuation">;</span>
        <span class="token keyword">proxy_ssl_session_reuse</span> on<span class="token punctuation">;</span>
        <span class="token keyword">proxy_pass</span> <span class="token keyword">http</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>harbor<span class="token punctuation">;</span>
		<span class="token keyword">proxy_redirect</span> default<span class="token punctuation">;</span>
        <span class="token keyword">proxy_http_version</span> <span class="token number">1.1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
    <span class="token keyword">location</span> <span class="token operator">/</span>v2<span class="token operator">/</span> <span class="token punctuation">{</span>
        <span class="token keyword">proxy_pass</span> <span class="token keyword">http</span><span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span>harbor<span class="token operator">/</span>v2<span class="token operator">/</span><span class="token punctuation">;</span>
		<span class="token keyword">proxy_redirect</span> default<span class="token punctuation">;</span>
        <span class="token comment">#proxy_set_header Host $host;</span>
        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Real<span class="token operator">-</span>IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>
        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>
        <span class="token keyword">proxy_set_header</span> X<span class="token operator">-</span>Forwarded<span class="token operator">-</span>Proto <span class="token variable">$scheme</span><span class="token punctuation">;</span>
        proxy_ssl_verify off<span class="token punctuation">;</span>
        <span class="token keyword">proxy_ssl_session_reuse</span> on<span class="token punctuation">;</span>
        <span class="token keyword">proxy_buffering</span> off<span class="token punctuation">;</span>
        proxy_request_buffering off<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><p>3）平滑重启nginx</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code>nginx -s reload
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="参考文章"><a href="#参考文章" class="header-anchor">#</a> 参考文章</h2> <blockquote><p>https://www.cnblogs.com/kevingrace/p/11422710.html</p> <p>https://juejin.im/post/5d973e246fb9a04dfa0963fb#heading-18</p> <p>https://mp.weixin.qq.com/s?__biz=MzU5Mzg4NTYyOA==&amp;mid=2247483698&amp;idx=1&amp;sn=79db67ba94f7de4a681f5827b32495c3&amp;chksm=fe08e1e1c97f68f79ce3c1de437d25a0262acdf6e50295d7b05f25fd9090c05ae17547f582c9&amp;mpshare=1&amp;scene=24&amp;srcid=0426o4pE2rlbV9jiC0uU7bbf&amp;sharer_sharetime=1587898963958&amp;sharer_shareid=9b928482ebeb2f07e6828859301773b2&amp;key=0c8b8599c39815a077ababf632218cf4dd47c3300ac756d5d1f91cab59a40607f01f1490e733f7642923a35122555c5af376a556d629fd23b6d57045ab998c4c8ef4c0069aaa95360699b46822a279da&amp;ascene=1&amp;uin=MjIyMjY5MjcyMg%3D%3D&amp;devicetype=Windows+10&amp;version=62080079&amp;lang=zh_CN&amp;exportkey=ATu2VmD5qWBN%2BODgGFu%2BLRg%3D&amp;pass_ticket=UKe3uNkZN8oXGdb8m9nzjnYYPVa%2B6oSRKUVpiOMdQ%2BemAGGjU653K0yx2yLVIF6J</p></blockquote></div> <footer class="page-meta"><div class="edit-link"><svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon edit-icon"><path d="M117.953 696.992 64.306 959.696l265.931-49.336 450.204-452.505-212.284-213.376-450.204 452.513zm496.384-296.326L219.039 797.993l-46.108-46.34L568.233 354.33l46.104 46.335zm345.357-122.99-114.45 115.04-212.288-213.377 114.45-115.035 212.288 213.371zm0 0" fill="currentColor"></path></svg> <a href="https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/master/container/Docker/docker_harbor_ha.md" target="_blank" rel="noopener noreferrer">编辑此页</a></div> <div class="meta-item update-time"><span class="label">上次编辑于:</span> <span class="info">2021年4月2日 14:48</span></div> <!----></footer> <!----> <div class="comments-wrapper"><div class="valine-wrapper"><div id="valine"></div></div></div> </main> <footer class="footer-wrapper"><div class="media-links-wrapper"><a href="mailto:clay_wangzhi@163.com" rel="noopener noreferrer" target="_blank" aria-label="Email" data-balloon-pos="up" class="media-link"><span class="sr-only">Email</span> <svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" class="icon icon-email"><path d="M0 512a512 512 0 101024 0A512 512 0 100 512z" fill="#1384FF"></path> <path d="M299.372 313.572H722.93c28.945 0 52.61 21.845 52.975 48.787L511.333 500.35 246.76 362.481c.182-27.003 23.666-48.97 52.611-48.97zm-52.671 101.702l-.243 244.121c0 27.186 23.848 49.395 52.914 49.395H722.93c29.127 0 52.975-22.21 52.975-49.395V415.152L517.522 546.71a13.957 13.957 0 01-12.682 0L246.7 415.274z" fill="#FFF"></path></svg></a></div> <!----> <div class="copyright">Copyright © 2021 Clay</div></footer></div><div class="global-ui"><!----><!----><div id="pwa-install"><!----> <div id="install-modal-wrapper" style="display:none;"><div class="background"></div> <div class="install-modal"><div class="header"><button aria-label="Close" class="close-button"><svg width="23" height="22" xmlns="http://www.w3.org/2000/svg" class="icon close-icon"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.12.358a1.224 1.224 0 011.729 0l8.92 8.914L20.686.358a1.224 1.224 0 011.73 1.728L13.497 11l8.92 8.913a1.222 1.222 0 11-1.73 1.729l-8.919-8.913-8.92 8.913a1.224 1.224 0 01-1.729-1.729L10.04 11l-8.92-8.914a1.222 1.222 0 010-1.728z" fill="currentColor"></path></svg></button> <div class="logo"><!----> <div class="title"><h1></h1> <p class="desc">该应用可以安装在您的 PC 或移动设备上。这将使该 Web 应用程序外观和行为与其他应用程序相同。它将在出现在应用程序列表中，并可以固定到主屏幕，开始菜单或任务栏。此 Web 应用程序还将能够与其他应用程序和您的操作系统安全地进行交互。</p></div></div></div> <div class="content"><div class="highlight"><!----> <!----></div> <div class="description"><h3>详情</h3> <p></p></div></div> <div class="button-wrapper"><button class="install-button">
        安装 <span></span></button> <button class="cancel-button">
        取消
      </button></div></div></div></div><div tabindex="-1" role="dialog" aria-hidden="true" class="pswp"><div class="pswp__bg"></div> <div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div> <div class="pswp__item"></div> <div class="pswp__item"></div></div> <div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div> <button title="Close (Esc)" class="pswp__button pswp__button--close"></button> <button title="Share" class="pswp__button pswp__button--share"></button> <button title="Toggle fullscreen" class="pswp__button pswp__button--fs"></button> <button title="Zoom in/out" class="pswp__button pswp__button--zoom"></button> <div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div> <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div> <button title="Previous (arrow left)" class="pswp__button pswp__button--arrow--left"></button> <button title="Next (arrow right)" class="pswp__button pswp__button--arrow--right"></button> <div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div></div></div>
    <script src="/assets/js/app.f8c94214.js" defer></script><script src="/assets/js/layout-Layout.20ee60ea.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound.699456de.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout~layout-NotFound~layout-Slide.e30cf8f9.js" defer></script><script src="/assets/js/vendors~layout-Blog~layout-Layout.e02ffb1a.js" defer></script><script src="/assets/js/page-Harbor简介.ab53052b.js" defer></script>
  </body>
</html>
