## 小技巧

### 开场语句

```bash
#!/bin/bash
set -o nounset
set -o errexit
```

* set -o nounset

在默认情况下，遇到不存在的变量，会忽略并继续执行，而这往往不符合预期，加入该选项，可以避免恶果扩大，终止脚本的执行。

* set -o errexit

在默认情况下，遇到执行出错，会跳过并继续执行，而这往往不符合预期，加入该选项，可以避免恶果扩大，终止脚本的执行。

### 调试方法

* 可以用-n对脚本进行语法检查

```shell
bash -n myscript.sh
```

* 可以用-v跟踪脚本里的每个命令的执行

```
bash -v myscript.sh
```

* 可以用-x跟踪脚本里的每个命令的执行，并附加扩充信息

```
bash -x myscript.sh
```

当然，也可以在脚本里，添加`set -o verbose`、`set -o xtrace`来永久指定输出调试信息。

