(window.webpackJsonp=window.webpackJsonp||[]).push([[241],{696:function(s,a,e){"use strict";e.r(a);var t=e(1),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("p",[s._v("当前redis最新稳定版本是4.0，常用版本3.2版本。\nstep1:下载")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("wget <http://download.redis.io/releases/redis-3.2.8.tar.gz>\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("step2:解压")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("tar -zxvf redis-3.2.8.tar.gz\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("step3:复制，放到usr/local/redis⽬录下")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo mv ./redis-3.2.8 /usr/local/redis/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("step4:进⼊redis⽬录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd /usr/local/redis/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("step5:生成\na) 安装c语言编译器gcc")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo apt-get install gcc\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("b) 安装编译命令make")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo apt-get install make(这一步可能会出问题，根据提示执行命令)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("c) 生成")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo make(比较慢)\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("step6:测试,这段运⾏时间会较⻓")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo make test\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("img",{attrs:{src:"images/4b9a2195123aef8955b322ab717f01450ba01875.png",alt:"Image"}})]),s._v(" "),e("p",[s._v("解决方法")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("cd\nwget http://downloads.sourceforge.net/tcl/tcl8.6.1-src.tar.gz\nsudo tar xzvf tcl8.6.1-src.tar.gz -C /usr/local/\ncd /usr/local/tcl8.6.1/unix/\nsudo ./configure\nsudo make（时间比较长）\nsudo make install\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br")])]),e("p",[s._v("step7:安装,将redis的命令安装到/usr/local/bin/⽬录")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo make install （时间比较长）\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[e("strong",[s._v("常用命令")]),s._v("\na) redis-server  redis服务器\nb) redis-cli  redis命令行客户端\nc) redis-benchmark redis性能测试工具\nd) redis-check-aof  AOF文件修复工具\ne) redis-check-rdb  RDB文件检索工具")]),s._v(" "),e("p",[s._v("step9:配置⽂件，移动到/etc/⽬录下\n配置⽂件⽬录为/usr/local/redis/redis.conf")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo cp /usr/local/redis/redis.conf /etc/redis/\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])])])}),[],!1,null,null,null);a.default=r.exports},716:function(s,a,e){"use strict";e.r(a);var t=e(1),r=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h2",{attrs:{id:"安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[s._v("#")]),s._v(" 安装")]),s._v(" "),e("h3",{attrs:{id:"安装java"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装java"}},[s._v("#")]),s._v(" 安装JAVA")]),s._v(" "),e("ul",[e("li",[s._v("运维Elasticsearch，需要安装并配置JDK，设置$JAVA_HOME")]),s._v(" "),e("li",[s._v("各个版本对Java的依赖\n"),e("ul",[e("li",[s._v("Elasticsearch 5 需要Java8以上的版本")]),s._v(" "),e("li",[s._v("Elasticsearch 从6.5开始支持Java11")]),s._v(" "),e("li",[s._v("7.0 开始，内置了Java环境")])])])]),s._v(" "),e("h3",{attrs:{id:"安装elasticsearch"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装elasticsearch"}},[s._v("#")]),s._v(" 安装Elasticsearch")]),s._v(" "),e("ul",[e("li",[s._v("下载二进制文件")])]),s._v(" "),e("blockquote",[e("p",[s._v("https://www.elastic.co/cn/downloads/elasticsearch")])]),s._v(" "),e("p",[e("img",{attrs:{src:"images/1567741507169.png",alt:""}})]),s._v(" "),e("p",[s._v("安装并运维Elasticsearch")]),s._v(" "),e("p",[e("img",{attrs:{src:"images/1567741543204.png",alt:""}})]),s._v(" "),e("h2",{attrs:{id:"配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#配置"}},[s._v("#")]),s._v(" 配置")]),s._v(" "),e("h3",{attrs:{id:"elasticsearch的文件目录结构"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#elasticsearch的文件目录结构"}},[s._v("#")]),s._v(" Elasticsearch的文件目录结构")]),s._v(" "),e("p",[e("img",{attrs:{src:"images/1567741696333.png",alt:""}})]),s._v(" "),e("h3",{attrs:{id:"jvm配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#jvm配置"}},[s._v("#")]),s._v(" JVM配置")]),s._v(" "),e("ul",[e("li",[s._v("修改JCM - config/jvm.options\n"),e("ul",[e("li",[s._v("7.3 下载的默认设置是1GB")])])]),s._v(" "),e("li",[s._v("配置的建议\n"),e("ul",[e("li",[s._v("Xmx和Xms设置成一样")]),s._v(" "),e("li",[s._v("Xmx不要超过机器内存的50%")]),s._v(" "),e("li",[s._v("不要超过30GB")])])])]),s._v(" "),e("h2",{attrs:{id:"运行"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行"}},[s._v("#")]),s._v(" 运行")]),s._v(" "),e("h3",{attrs:{id:"运行单个实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行单个实例"}},[s._v("#")]),s._v(" 运行单个实例")]),s._v(" "),e("div",{staticClass:"language-bash line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("bin/elasticsearch -E node.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node0 -E node.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node0 -E cluster.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("geektime -E path.data"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node0_data\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h3",{attrs:{id:"运行多个实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#运行多个实例"}},[s._v("#")]),s._v(" 运行多个实例")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("bin/elasticsearch -E node.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node1 -E cluster.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("geektime -E path.data"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node1_data -d\nbin/elasticsearch -E node.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node2 -E cluster.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("geektime -E path.data"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node2_data -d\nbin/elasticsearch -E node.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node2 -E cluster.name"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("geektime -E path.data"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("node2_data -d\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br")])]),e("ul",[e("li",[s._v("访问 http://localhost:9200 check cluster health state")]),s._v(" "),e("li",[s._v("通过 http://localhost:9200_cat/nodes?v 查看节点")])]),s._v(" "),e("h3",{attrs:{id:"安装与查看插件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#安装与查看插件"}},[s._v("#")]),s._v(" 安装与查看插件")]),s._v(" "),e("div",{staticClass:"language-shell line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("bin/elasticsearch-plugin "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" analysis-icu\nbin/elasticsearch-plugin list\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("ul",[e("li",[s._v("Elasticsearch提供插件的机制对系统进行扩展\n"),e("ul",[e("li",[s._v("Discovery Plugin")]),s._v(" "),e("li",[s._v("Analysis Plugin")]),s._v(" "),e("li",[s._v("Security Plugin")]),s._v(" "),e("li",[s._v("Management Plugin")]),s._v(" "),e("li",[s._v("Ingest Plugin")]),s._v(" "),e("li",[s._v("Mapper Plugin")]),s._v(" "),e("li",[s._v("Backup Plugin")])])])])])}),[],!1,null,null,null);a.default=r.exports}}]);