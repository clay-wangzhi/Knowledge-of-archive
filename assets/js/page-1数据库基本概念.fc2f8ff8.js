(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{690:function(s,a,n){"use strict";n.r(a);var e=n(1),t=Object(e.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"_1-数据库基本概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-数据库基本概念"}},[s._v("#")]),s._v(" 1  数据库基本概念")]),s._v(" "),n("p",[s._v("1、关系：两个表的公共字段")]),s._v(" "),n("p",[s._v("2、行：也称记录，也称实体")]),s._v(" "),n("p",[s._v("3、列：也称字段，也称属性")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("就表结构而言，表分为行和列；\n就表数据而言，分为记录和字段；\n就面向对象而言，一个记录就是一个实体，一个字段就是一个属性。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("4、数据冗余：相同的数据存储在不同的地方")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("脚下留心：\n1、冗余只能减少，不能杜绝。\n2、减少冗余的方法是分表\n3、为减少数据查找的麻烦，允许数据有一定的冗余\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("p",[s._v("5、数据完整性：正确性+准确性=数据完整性")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("正确性：数据类型正确\n准确性：数据范围要准确\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("思考：学生的年龄是整型，输入1000岁，正确性和准确性如何？")]),s._v(" "),n("p",[s._v("答：正确的，但不准确的")]),s._v(" "),n("p",[s._v("思考：年龄是整形的，收入了字符串，正确性和准确性如何？")]),s._v(" "),n("p",[s._v("答：不正确")]),s._v(" "),n("h2",{attrs:{id:"_2-实体和实体之间的关系"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-实体和实体之间的关系"}},[s._v("#")]),s._v(" 2  实体和实体之间的关系")]),s._v(" "),n("p",[s._v("1、一对一")]),s._v(" "),n("p",[s._v("2、一对多 （多对一）")]),s._v(" "),n("p",[s._v("3、多对多 "),n("img",{attrs:{src:"images/1536975724695.png",alt:"1536975724695"}})]),s._v(" "),n("h3",{attrs:{id:"_2-1-一对多-1-n"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-一对多-1-n"}},[s._v("#")]),s._v(" 2.1 一对多 1：N")]),s._v(" "),n("p",[s._v("1、主表中的一条记录对应从表中的多条记录。")]),s._v(" "),n("p",[s._v("2、一对多和多对一是一样的")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536976096582.png",alt:"1536976096582"}})]),s._v(" "),n("hr"),s._v(" "),n("p",[s._v("如何实现一对多？")]),s._v(" "),n("p",[s._v("答：主键和非主键建关系")]),s._v(" "),n("p",[s._v("问题：说出几个一对多的关系？")]),s._v(" "),n("p",[s._v("答：班级表和学生表、      班主表和学生表")]),s._v(" "),n("h3",{attrs:{id:"_2-2-一对一-1-1"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-一对一-1-1"}},[s._v("#")]),s._v(" 2.2 一对一（1:1）")]),s._v(" "),n("p",[s._v("1、主表中的一条记录对应从表中的一条记录")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536976513236.png",alt:"1536976513236"}})]),s._v(" "),n("p",[s._v("如何实现一对一？")]),s._v(" "),n("p",[s._v("主键和主键建关系就能实现一对一。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("思考：一对一两个表完全可以用一个表实现，为什么还要分成两个表？\n\n答：在字段数量很多情况下，数据量也就很大，每次查询都需要检索大量数据，这样效率低下。我们可以将所有字段分成两个部分，“常用字段”和“不常用字段”，这样对大部分查询者来说效率提高了。【表的垂直分割】\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_2-3-多对多-n-m"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-多对多-n-m"}},[s._v("#")]),s._v(" 2.3 多对多（N：M）")]),s._v(" "),n("p",[s._v("主表中的一条记录对应从表中的多条记录，从表中的一条记录对应主表中的多条记录")]),s._v(" "),n("p",[s._v("班级和讲师的关系")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536977577667.png",alt:"1536977577667"}})]),s._v(" "),n("p",[s._v("如何实现多对多？")]),s._v(" "),n("p",[s._v("答：建立第三张表来保存关系。")]),s._v(" "),n("p",[s._v("问题：说出几个多对多的关系？")]),s._v(" "),n("p",[s._v("1、科目表和学生表的关系\t\t2、商品表和订单表         3、游戏目录表和玩家表")]),s._v(" "),n("h2",{attrs:{id:"_3-数据库设计的步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-数据库设计的步骤"}},[s._v("#")]),s._v(" 3 数据库设计的步骤")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536977906540.png",alt:"1536977906540"}})]),s._v(" "),n("h3",{attrs:{id:"_3-1-数据库设计具体步骤"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-数据库设计具体步骤"}},[s._v("#")]),s._v(" 3.1 数据库设计具体步骤")]),s._v(" "),n("p",[s._v("1、     收集信息：与该系统有关人员进行交流、坐谈，充分理解数据库需要完成的任务")]),s._v(" "),n("p",[s._v("2、     标识对象（实体－Entity）标识数据库要管理的关键对象或实体")]),s._v(" "),n("p",[s._v("3、     标识每个实体的属性（Attribute）")]),s._v(" "),n("p",[s._v("4、     标识对象之间的关系（Relationship）")]),s._v(" "),n("p",[s._v("5、     将模型转换成数据库")]),s._v(" "),n("p",[s._v("6、     规范化")]),s._v(" "),n("h3",{attrs:{id:"_3-2-绘制e-r图"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-绘制e-r图"}},[s._v("#")]),s._v(" 3.2 绘制E-R图")]),s._v(" "),n("p",[s._v("E-R（Entity－Relationship）实体关系图")]),s._v(" "),n("p",[s._v("E-R图的语法")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536978470142.png",alt:"1536978470142"}})]),s._v(" "),n("p",[s._v("绘制E-R图")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536978565499.png",alt:"1536978565499"}})]),s._v(" "),n("h3",{attrs:{id:"_3-3-将e-r图转成表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-将e-r图转成表"}},[s._v("#")]),s._v(" 3.3 将E-R图转成表")]),s._v(" "),n("p",[s._v("1、     实体转成表，属性转成字段")]),s._v(" "),n("p",[s._v("2、     如果没有合适的字段做主键，给表添加一个自动增长列做主键。")]),s._v(" "),n("h3",{attrs:{id:"_3-4-例题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-例题"}},[s._v("#")]),s._v(" 3.4 例题")]),s._v(" "),n("p",[s._v("1、项目需求")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("BBS论坛的基本功能：\n用户注册和登录，后台数据库需要存放用户的注册信息和在线状态信息；\n用户发贴，后台数据库需要存放贴子相关信息，如贴子内容、标题等；\n用户可以对发帖进行回复；\n论坛版块管理：后台数据库需要存放各个版块信息，如版主、版块名称、贴子数等；\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("2、标识对象")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("参与的对象有：用户、发的帖子、跟帖、板块\n")])])]),n("p",[s._v("3、标识对象的属性")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536978271446.png",alt:"1536978271446"}})]),s._v(" "),n("p",[s._v("4、建立关系，绘制E-R图")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536978734804.png",alt:"1536978734804"}})]),s._v(" "),n("p",[s._v("5、将E-R图转出表结构")]),s._v(" "),n("h2",{attrs:{id:"_4-数据规范化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-数据规范化"}},[s._v("#")]),s._v(" 4 数据规范化")]),s._v(" "),n("p",[s._v("Codd博士定义了6个范式来规范化数据库，范式由小到大来约束，范式越高冗余越小，但表的个数也越多。实验证明，三范式是性价比最高的。")]),s._v(" "),n("h3",{attrs:{id:"_4-1-第一范式-确保每列原子性"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-第一范式-确保每列原子性"}},[s._v("#")]),s._v(" 4.1 第一范式：确保每列原子性")]),s._v(" "),n("p",[s._v("第一范式确保每个字段不可再分")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536979522448.png",alt:"1536979522448"}})]),s._v(" "),n("p",[s._v("思考：如下表设计是否合理？")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536979672041.png",alt:"1536979672041"}})]),s._v(" "),n("p",[s._v("不合理。不满足第一范式，上课时间可以再分")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536979718323.png",alt:"1536979718323"}})]),s._v(" "),n("p",[s._v("思考：地址包含省、市、县、地区是否需要拆分？")]),s._v(" "),n("p",[s._v("答：如果仅仅起地址的作用，不需要统计，可以不拆分；如果有按地区统计的功能需要拆分。")]),s._v(" "),n("p",[s._v("在实际项目中，建议拆分。")]),s._v(" "),n("h3",{attrs:{id:"_4-2-第二范式-非键字段必须依赖于键字段"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-第二范式-非键字段必须依赖于键字段"}},[s._v("#")]),s._v(" 4.2 第二范式：非键字段必须依赖于键字段")]),s._v(" "),n("p",[s._v("一个表只能描述一件事")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536980482113.png",alt:"1536980482113"}})]),s._v(" "),n("p",[s._v("思考：如下表设计是否合理？")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536980574792.png",alt:"1536980574792"}})]),s._v(" "),n("h3",{attrs:{id:"_4-3-第三范式-消除传递依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-第三范式-消除传递依赖"}},[s._v("#")]),s._v(" 4.3 第三范式：消除传递依赖")]),s._v(" "),n("p",[s._v("在所有的非键字段中，不能有传递依赖")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536981861980.png",alt:"1536981861980"}})]),s._v(" "),n("p",[s._v("下列设计是否满足第三范式？")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536982061259.png",alt:"1536982061259"}})]),s._v(" "),n("p",[s._v("不满足，因为语文和数学确定了，总分就确定了。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("多学一招：上面的设计不满足第三范式，但是高考分数表就是这样设计的，为什么？\n\n答：高考分数峰值访问量非常大，这时候就是性能更重要。当性能和规范化冲突的时候，我们首选性能。这就是“反三范式”。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_4-4-数据库设计的例题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-数据库设计的例题"}},[s._v("#")]),s._v(" 4.4 数据库设计的例题")]),s._v(" "),n("p",[s._v("1、需求")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("公司承担多个工程项目，每一项工程有：工程号、工程名称、施工人员等\n公司有多名职工，每一名职工有：职工号、姓名、性别、职务（工程师、技术员）等\n公司按照工时和小时工资率支付工资，小时工资率由职工的职务决定（例如，技术员的小时工资率与工程师不同）\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("2、工资表")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536982976983.png",alt:"1536982976983"}})]),s._v(" "),n("p",[s._v("3、将工资表转成数据库表")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536983011535.png",alt:"1536983011535"}})]),s._v(" "),n("p",[s._v("4、这个表存在的问题")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("A：新人入职需要虚拟一个项目\n\nB：职务更改，小时工资率可能会忘记更改，造成数据不完整\n\nC：有人离职，删除记录后，工程也没有了\n")])])]),n("p",[s._v("5、规范化表")]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("第一步：这个表满足第一范式\n\n第二步：这个表不是描述了一件事情\n")])])]),n("p",[n("img",{attrs:{src:"images/1536983332419.png",alt:"1536983332419"}})]),s._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",[n("code",[s._v("第三步：是否满足第三范式\n")])])]),n("p",[n("img",{attrs:{src:"images/1536983422611.png",alt:"1536983422611"}})]),s._v(" "),n("p",[s._v("更改如下：")]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536983406042.png",alt:"1536983406042"}})]),s._v(" "),n("h2",{attrs:{id:"_5-查询语句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-查询语句"}},[s._v("#")]),s._v(" 5 查询语句")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("语法：select [选项] 列名 [from 表名] [where 条件]  [group by 分组] [order by 排序][having 条件] [limit 限制]\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_5-1-字段表达式"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-字段表达式"}},[s._v("#")]),s._v(" 5.1 字段表达式")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select '锄禾日当午';\n+------------+\n| 锄禾日当午          |\n+------------+\n| 锄禾日当午          |\n+------------+\n\nmysql> select 10*10;\n+-------+\n| 10*10 |\n+-------+\n|   100 |\n+-------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("p",[s._v("通过as给字段取别名")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql>  select '锄禾日当午' as content;\n+------------+\n| content    |\n+------------+\n| 锄禾日当午          |\n+------------+\n1 row in set (0.00 sec)\n\nmysql> select 10*10 as result;\n+--------+\n| result |\n+--------+\n|    100 |\n+--------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("多学一招：as可以省略")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select 10*10  result;\n+--------+\n| result |\n+--------+\n|    100 |\n+--------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"_5-2-from子句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-from子句"}},[s._v("#")]),s._v(" 5.2 from子句")]),s._v(" "),n("p",[s._v("from：来自，from后面跟的是数据源。数据源可以有多个。返回笛卡尔积。")]),s._v(" "),n("p",[s._v("插入测试表")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> create table t1(\n    -> id int,\n    -> name varchar(10)\n    -> );\nQuery OK, 0 rows affected (0.05 sec)\n\nmysql> create table t2(\n    -> field1 varchar(10),\n    -> field2 varchar(10)\n    -> );\nQuery OK, 0 rows affected (0.00 sec)\n\nmysql> insert into t1 values (1,'tom'),(2,'berry');\nQuery OK, 2 rows affected (0.00 sec)\nRecords: 2  Duplicates: 0  Warnings: 0\n\nmysql> insert into t2 values ('333','333'),('444','444');\nQuery OK, 2 rows affected (0.02 sec)\nRecords: 2  Duplicates: 0  Warnings: 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br")])]),n("p",[s._v("测试多个数据源")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from t1,t2;              # 返回笛卡尔积\n+------+-------+--------+--------+\n| id   | name  | field1 | field2 |\n+------+-------+--------+--------+\n|    1 | tom   | 333    | 333    |\n|    2 | berry | 333    | 333    |\n|    1 | tom   | 444    | 444    |\n|    2 | berry | 444    | 444    |\n+------+-------+--------+--------+\n4 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"_5-3-dual表"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-dual表"}},[s._v("#")]),s._v(" 5.3 dual表")]),s._v(" "),n("p",[s._v("dual表是一个伪表。在有些特定情况下，没有具体的表的参与，但是为了保证select语句的完整又必须要一个表名，这时候就使用伪表。")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select 10*10 as result from dual;  #dual表是用来保证select语句的完整性。\n+--------+\n| result |\n+--------+\n|    100 |\n+--------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_5-4-where子句"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-where子句"}},[s._v("#")]),s._v(" 5.4 where子句")]),s._v(" "),n("p",[s._v("where后面跟的是条件，在数据源中进行筛选。返回条件为真记录")]),s._v(" "),n("p",[s._v("MySQL支持的运算符")]),s._v(" "),n("ol",[n("li",[n("code",[s._v(">")]),s._v("\t大于")]),s._v(" "),n("li",[n("code",[s._v("<")]),s._v("小于")]),s._v(" "),n("li",[n("code",[s._v(">=")])]),s._v(" "),n("li",[n("code",[s._v("<=")])]),s._v(" "),n("li",[n("code",[s._v("=")])]),s._v(" "),n("li",[n("code",[s._v("!=")])]),s._v(" "),n("li",[s._v("and    与")]),s._v(" "),n("li",[s._v("or      或")]),s._v(" "),n("li",[s._v("not   非")])]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stusex='男';\t\t# 查找性别是男的记录\nmysql> select * from stu where stuage>=20;\t\t# 查找年龄不低于20的记录\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("思考：如下代码输出什么")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("select * from stu where 1      # 返回所有数据库\nselect * from stu where 0\t\t#返回空记录\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("思考：如何查找北京和上海的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stuaddress='上海' or stuaddress='北京';\n+--------+---------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+---------+--------+--------+---------+------------+------+------+\n| s25301 | 张秋丽        | 男       |     18 |       1 | 北京           |   80 | NULL |\n| s25302 | 李文才       | 男       |     31 |       3 | 上海          |   77 |   76 |\n| s25303 | 李斯文       | 女      |     22 |       2 | 北京           |   55 |   82 |\n| s25320 | Tom     | 男       |     24 |       8 | 北京           |   65 |   67 |\n+--------+---------+--------+--------+---------+------------+------+------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h3",{attrs:{id:"_5-5-in-not-in"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-5-in-not-in"}},[s._v("#")]),s._v(" 5.5  in | not in")]),s._v(" "),n("p",[s._v("上面的查询上海和北京的学生的SQL可以通过in语句来实现")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stuaddress in ('北京','上海');\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("练习：")]),s._v(" "),n("p",[s._v("1、查找学号是s25301,s25302,s25303的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stuno in ('s25301','s25302','s25303');\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("2、查找年龄是18,19,20的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stuage in(18,19,20);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("3、查找不是北京和上海的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stuaddress not in ('北京','上海');\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_5-6-between-and-not-between-and"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-6-between-and-not-between-and"}},[s._v("#")]),s._v(" 5.6  between…and|not between…and")]),s._v(" "),n("p",[s._v("查找某个范围的记录")]),s._v(" "),n("p",[s._v("1、查找年龄在18~20之间的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stuage>=18 and stuage<=20;   # 方法一\n\nmysql> select * from stu where stuage between 18 and 20;   # 方法二\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("2、查找年龄不在18~20之间的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stuage<18 or stuage>20;\t\t#方法一\n\nmysql> select * from stu where not (stuage>=18 and stuage<=20);\n\nmysql> select * from stu where stuage not between 18 and 20;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_5-7-is-null-is-not-null"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-7-is-null-is-not-null"}},[s._v("#")]),s._v(" 5.7 is null | is not null")]),s._v(" "),n("p",[s._v("脚下留心：查询一个为空的字段不能用等于，必须用is null")]),s._v(" "),n("p",[s._v("查找缺考的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where ch is null or math is null; # 查找缺考的人\n+--------+----------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+----------+--------+--------+---------+------------+------+------+\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           |   80 | NULL |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           | NULL |   74 |\n+--------+----------+--------+--------+---------+------------+------+------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("查找参加考试的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where ch is not null and math is not null;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_5-8-聚合函数"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-8-聚合函数"}},[s._v("#")]),s._v(" 5.8 聚合函数")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("sum()  \t   求和")])]),s._v(" "),n("li",[n("p",[s._v("avg()          求平均值")])]),s._v(" "),n("li",[n("p",[s._v("max()        求最大值")])]),s._v(" "),n("li",[n("p",[s._v("min()          求最小值")])]),s._v(" "),n("li",[n("p",[s._v("count()      求记录数")])])]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#求语文总分、语文平均分、语文最高分、语文最低分、总人数\n\nmysql> select sum(ch) '语文总分',avg(ch) '语文平均分', max(ch) '语文最高分',min(ch) '语文最低分',count(*) '总人数' from stu;\n+----------+------------+------------+------------+--------+\n| 语文总分        | 语文平均分          | 语文最高分          | 语文最低分          | 总人数       |\n\n+----------+------------+------------+------------+--------+\n|      597 |    74.6250 |         88 |         55 |      9 |\n+----------+------------+------------+------------+--------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"_5-9-通配符"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-9-通配符"}},[s._v("#")]),s._v(" 5.9 通配符")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("_  [下划线]   表示任意一个字符")])]),s._v(" "),n("li",[n("p",[s._v("%  表示任意字符")])])]),s._v(" "),n("p",[s._v("练习")]),s._v(" "),n("p",[s._v("1、满足“T_m”的有（A、C）")]),s._v(" "),n("p",[s._v("A：Tom         B：Toom       C：Tam         D：Tm     E：Tmo")]),s._v(" "),n("p",[s._v("2、满足“T_m_”的有（B、C  ）")]),s._v(" "),n("p",[s._v("A:Tmom   B:Tmmm  C:T1m2    D:Tmm     E:Tm")]),s._v(" "),n("p",[s._v("3、满足“张%”的是（A、B、C、D）")]),s._v(" "),n("p",[s._v("A:张三     B：张三丰     C：张牙舞爪      D：张      E：小张")]),s._v(" "),n("p",[s._v("4、满足“%诺基亚%”的是（A、B、C、D）")]),s._v(" "),n("p",[s._v("A：诺基亚2100   B：2100诺基亚   C：把我的诺基亚拿过来   D：诺基亚")]),s._v(" "),n("h3",{attrs:{id:"_5-10-模糊查询-like"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-10-模糊查询-like"}},[s._v("#")]),s._v(" 5.10 模糊查询（like）")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 查找姓张的同学\nmysql> select * from stu where stuname like '张%';\n+--------+---------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+---------+--------+--------+---------+------------+------+------+\n| s25301 | 张秋丽        | 男       |     18 |       1 | 北京           |   80 | NULL |\n+--------+---------+--------+--------+---------+------------+------+------+\n1 row in set (0.00 sec)\n#例题\nmysql> select * from stu where stuname like 'T_m';\n+--------+---------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+---------+--------+--------+---------+------------+------+------+\n| s25320 | Tom     | 男       |     24 |       8 | 北京           |   65 |   67 |\n+--------+---------+--------+--------+---------+------------+------+------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"_5-11-order-by排序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-11-order-by排序"}},[s._v("#")]),s._v(" 5.11 order by排序")]),s._v(" "),n("p",[s._v("asc：升序【默认】")]),s._v(" "),n("p",[s._v("desc：降序")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu order by ch desc;\t\t# 语文成绩降序排列\n\nmysql> select * from stu order by math asc;     # 数学成绩升序排列\n\nmysql> select * from stu order by math;       # 默认升序排列\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("p",[s._v("多列排序")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("#年龄升序,成绩降序\nmysql> select *,(ch+math) as '总分' from stu order by stuage asc,(ch+math) desc;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("p",[s._v("思考如下代码表示什么含义")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("select * from stu order by stuage desc,ch desc;     #年龄降序，语文降序\nselect * from stu order by stuage desc,ch asc;\t\t#年龄降序，语文升序\nselect * from stu order by stuage,ch desc;          #年龄升序、语文降序\nselect * from stu order by stuage,ch; \t\t\t\t#年龄升序、语文升序\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("h3",{attrs:{id:"_5-12-group-by-【分组查询】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-12-group-by-【分组查询】"}},[s._v("#")]),s._v(" 5.12 group by 【分组查询】")]),s._v(" "),n("p",[s._v("将查询的结果分组，分组查询目的在于统计数据。")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 按性别分组，显示每组的平均年龄\nmysql> select avg(stuage) as '年龄',stusex from stu group by stusex;\n+---------+--------+\n| 年龄        | stusex |\n+---------+--------+\n| 22.7500 | 女      |\n| 25.4000 | 男       |\n+---------+--------+\n2 rows in set (0.00 sec)\n# 按地区分组，每个地区的平均年龄\nmysql> select avg(stuage) as '年龄',stuaddress from stu group by stuaddress;\n+---------+------------+\n| 年龄        | stuaddress |\n+---------+------------+\n| 31.0000 | 上海          |\n| 21.3333 | 北京           |\n| 27.0000 | 天津           |\n| 23.0000 | 河北          |\n| 23.0000 | 河南           |\n+---------+------------+\n5 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("脚下留心：\n1、如果是分组查询，查询字段必须是分组字段和聚合函数。\n2、查询字段是普通字段，只取第一个值\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:"images/1536999666442.png",alt:"1536999666442"}})]),s._v(" "),n("p",[s._v("通过group_concat()函数将同一组的值连接起来显示")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select group_concat(stuname),stusex from stu group by stusex;\n+-------------------------------------+--------+\n| group_concat(stuname)               | stusex |\n+-------------------------------------+--------+\n| 李斯文,诸葛丽丽,梅超风,Tabm                           | 女      |\n| 张秋丽,李文才,欧阳俊雄,争青小子,Tom                          | 男       |\n+-------------------------------------+--------+\n2 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("多学一招：【了解】\n1、分组后的结果默认会按升序排列显示\n2、也是可以使用desc实现分组后的降序\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[n("img",{attrs:{src:"images/1536999889281.png",alt:"1536999889281"}})]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1536999987356.png",alt:"1536999987356"}})]),s._v(" "),n("p",[s._v("多列分组")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select stuaddress,stusex,avg(stuage) from stu group by stuaddress,stusex;\n+------------+--------+-------------+\n| stuaddress | stusex | avg(stuage) |\n+------------+--------+-------------+\n| 上海          | 男       |     31.0000 |\n| 北京           | 女      |     22.0000 |\n| 北京           | 男       |     21.0000 |\n| 天津           | 男       |     27.0000 |\n| 河北          | 女      |     23.0000 |\n| 河南           | 女      |     23.0000 |\n+------------+--------+-------------+\n6 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("h3",{attrs:{id:"_5-13-having条件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-13-having条件"}},[s._v("#")]),s._v(" 5.13 having条件")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("思考：数据库中的表是一个二维表，返回的结果是一张二维表，既然能在数据库的二维表中进行查询，能否在结果集的二维表上继续进行查询？\n\n答：可以，having条件就是在结果集上继续进行筛选。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("例题")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu where stusex='男';   # 从数据库中查找\n+--------+----------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+----------+--------+--------+---------+------------+------+------+\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           |   80 | NULL |\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          |   77 |   76 |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           | NULL |   74 |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           |   86 |   92 |\n| s25320 | Tom      | 男       |     24 |       8 | 北京           |   65 |   67 |\n+--------+----------+--------+--------+---------+------------+------+------+\n5 rows in set (0.00 sec)\n\nmysql> select * from stu having stusex='男';   # 从结果集中查找\n+--------+----------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+----------+--------+--------+---------+------------+------+------+\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           |   80 | NULL |\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          |   77 |   76 |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           | NULL |   74 |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           |   86 |   92 |\n| s25320 | Tom      | 男       |     24 |       8 | 北京           |   65 |   67 |\n+--------+----------+--------+--------+---------+------------+------+------+\n5 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br")])]),n("p",[s._v("思考如下语句是否正确 "),n("img",{attrs:{src:"images/1537001246956.png",alt:"1537001246956"}})]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1537001432304.png",alt:"1537001432304"}})]),s._v(" "),n("p",[s._v("having和where的区别：")]),s._v(" "),n("p",[s._v("where是对原始数据进行筛选，having是对记录集进行筛选。")]),s._v(" "),n("h3",{attrs:{id:"_5-14-limit"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-14-limit"}},[s._v("#")]),s._v(" 5.14 limit")]),s._v(" "),n("p",[s._v("语法：limit 起始位置，显示长度")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu limit 0,2;    # 从0的位置开始，取两条数据\n+--------+---------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+---------+--------+--------+---------+------------+------+------+\n| s25301 | 张秋丽        | 男       |     18 |       1 | 北京           |   80 | NULL |\n| s25302 | 李文才       | 男       |     31 |       3 | 上海          |   77 |   76 |\n+--------+---------+--------+--------+---------+------------+------+------+\n2 rows in set (0.00 sec)\n \nmysql> select * from stu limit 2,2;    # 从2的位置开始，取两条数据\n+--------+----------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+----------+--------+--------+---------+------------+------+------+\n| s25303 | 李斯文        | 女      |     22 |       2 | 北京           |   55 |   82 |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           | NULL |   74 |\n+--------+----------+--------+--------+---------+------------+------+------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("起始位置可以省略，默认是从0开始")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stu limit 2;\n+--------+---------+--------+--------+---------+------------+------+------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress | ch   | math |\n+--------+---------+--------+--------+---------+------------+------+------+\n| s25301 | 张秋丽        | 男       |     18 |       1 | 北京           |   80 | NULL |\n| s25302 | 李文才       | 男       |     31 |       3 | 上海          |   77 |   76 |\n+--------+---------+--------+--------+---------+------------+------+------+\n2 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("例题：找出班级总分前三名")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select *,(ch+math) total from stu order by total desc limit 0,3;\n+--------+----------+--------+--------+---------+------------+------+------+-------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | ch   | math | total |\n+--------+----------+--------+--------+---------+------------+------+------+-------+\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           |   86 |   92 |   178 |\n| s25321 | Tabm     | 女      |     23 |       9 | 河北          |   88 |   77 |   165 |\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          |   77 |   76 |   153 |\n+--------+----------+--------+--------+---------+------------+------+------+-------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("p",[s._v("多学一招：limit在update和delete语句中也是可以使用的。")]),s._v(" "),n("h3",{attrs:{id:"_5-15-查询语句中的选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_5-15-查询语句中的选项"}},[s._v("#")]),s._v(" 5.15 查询语句中的选项")]),s._v(" "),n("p",[s._v("查询语句中的选项有两个：")]),s._v(" "),n("p",[s._v("1、     all：显示所有数据 【默认】")]),s._v(" "),n("p",[s._v("2、     distinct：去除结果集中重复的数据")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select distinct stuaddress from stu;\n+------------+\n| stuaddress |\n+------------+\n| 上海          |\n| 天津           |\n| 河南           |\n| 河北          |\n| 北京           |\n+------------+\n5 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br")])]),n("h2",{attrs:{id:"_6-union-联合"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-union-联合"}},[s._v("#")]),s._v(" 6 union（联合）")]),s._v(" "),n("p",[s._v("插入测试数据")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> create table GO1(\n    -> id int primary key,\n    -> name varchar(20));\nQuery OK, 0 rows affected (0.06 sec)\n\nmysql> insert into Go1 values (1,'李白'),(2,'张秋丽');\nQuery OK, 2 rows affected (0.02 sec)\nRecords: 2  Duplicates: 0  Warnings: 0\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br")])]),n("h3",{attrs:{id:"_6-1-union的使用"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-union的使用"}},[s._v("#")]),s._v(" 6.1 union的使用")]),s._v(" "),n("p",[s._v("作用：将多个select语句结果集纵向联合起来")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("select 语句 union [选项] select 语句 union [选项] select 语句;\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select stuno,stuname from stu union select id,name from Go1;\n+--------+----------+\n| stuno  | stuname  |\n+--------+----------+\n| s25301 | 张秋丽         |\n| s25302 | 李文才        |\n| s25303 | 李斯文        |\n| s25304 | 欧阳俊雄        |\n| s25305 | 诸葛丽丽         |\n| s25318 | 争青小子        |\n| s25319 | 梅超风        |\n| s25320 | Tom      |\n| s25321 | Tabm     |\n| 1      | 李白         |\n| 2      | 张秋丽         |\n+--------+----------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("p",[s._v("例题：查询上海的男生和北京的女生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select stuname,stuaddress,stusex from stu where (stuaddress='上海' and stusex='男') or (stuaddress='北京' and stusex='女');\n+---------+------------+--------+\n| stuname | stuaddress | stusex |\n+---------+------------+--------+\n| 张秋丽        | 上海          | 男       |\n| 梅超风       | 北京           | 女      |\n+---------+------------+--------+\n2 rows in set (0.00 sec)\n\nmysql> select stuname,stuaddress,stusex from stu where stuaddress='上海' and stusex='男' union select stuname,stuaddress,stusex from stu where stuaddress='北京' and stusex='女';\n+---------+------------+--------+\n| stuname | stuaddress | stusex |\n+---------+------------+--------+\n| 张秋丽        | 上海          | 男       |\n| 梅超风       | 北京           | 女      |\n+---------+------------+--------+\n2 rows in set (0.02 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br")])]),n("h3",{attrs:{id:"_6-2-union的选项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-union的选项"}},[s._v("#")]),s._v(" 6.2 union的选项")]),s._v(" "),n("p",[s._v("union的选项有两个")]),s._v(" "),n("p",[s._v("1、     all：显示所有数据")]),s._v(" "),n("p",[s._v("2、     distinct：去除重复的数据【默认】")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select name from go1 union select stuname from stu;\n+----------+\n| name     |\n+----------+\n| 李白         |\n| 张秋丽         |\n| 李文才        |\n| 李斯文        |\n| 欧阳俊雄        |\n| 诸葛丽丽         |\n| 争青小子        |\n| 梅超风        |\n| Tom      |\n| Tabm     |\n+----------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("默认是去重复的")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select name from go1 union all select stuname from stu;  # all不去重复记录\n+----------+\n| name     |\n+----------+\n| 李白         |\n| 张秋丽         |\n| 张秋丽         |\n| 李文才        |\n| 李斯文        |\n| 欧阳俊雄        |\n| 诸葛丽丽         |\n| 争青小子        |\n| 梅超风        |\n| Tom      |\n| Tabm     |\n+----------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h3",{attrs:{id:"_6-3-union的注意事项"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-union的注意事项"}},[s._v("#")]),s._v(" 6.3 union的注意事项")]),s._v(" "),n("p",[s._v("1、     union两边的select语句的字段个数必须一致")]),s._v(" "),n("p",[s._v("2、     union两边的select语句的字段名可以不一致，最终按第一个select语句的字段名。")]),s._v(" "),n("p",[s._v("3、     union两边的select语句中的数据类型可以不一致。")]),s._v(" "),n("h2",{attrs:{id:"_7-多表查询分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-多表查询分类"}},[s._v("#")]),s._v(" 7 多表查询分类")]),s._v(" "),n("p",[s._v("将多个表的数据横向的联合起来。\n1、\t内连接\n2、\t外连接\na)\t左外连接\nb)\t右外连接\n3、\t交叉连接\n4、\t自然连接")]),s._v(" "),n("h3",{attrs:{id:"_7-1-内连接【inner-join】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-1-内连接【inner-join】"}},[s._v("#")]),s._v(" 7.1 内连接【inner join】")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("语法一：select 列名 from 表1 inner join 表2 on 表1.公共字段=表2.公共字段\n\n语法二：select 列名 from 表1,表2 where 表1.公共字段=表2.公共字段\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("p",[s._v("例题")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("方法一：\nmysql> select stuname,stusex,writtenexam,labexam from stuinfo inner join stumarks on stuinfo.stuno=stumarks.stuno;\n+----------+--------+-------------+---------+\n| stuname  | stusex | writtenexam | labexam |\n+----------+--------+-------------+---------+\n| 李斯文        | 女      |          80 |      58 |\n| 李文才        | 男       |          50 |      90 |\n| 欧阳俊雄        | 男       |          65 |      50 |\n| 张秋丽         | 男       |          77 |      82 |\n| 争青小子        | 男       |          56 |      48 |\n+----------+--------+-------------+---------+\n\n方法二：\nmysql> select stuinfo.stuno,stuname,stusex,writtenexam,labexam from stuinfo,stumarks where stuinfo.stuno=stumarks.stuno;\n+--------+----------+--------+-------------+---------+\n| stuno  | stuname  | stusex | writtenexam | labexam |\n+--------+----------+--------+-------------+---------+\n| s25303 | 李斯文        | 女      |          80 |      58 |\n| s25302 | 李文才        | 男       |          50 |      90 |\n| s25304 | 欧阳俊雄        | 男       |          65 |      50 |\n| s25301 | 张秋丽         | 男       |          77 |      82 |\n| s25318 | 争青小子        | 男       |          56 |      48 |\n+--------+----------+--------+-------------+---------+\n\n可以给表取别名\nmysql> select i.stuno,stuname,stusex,writtenexam,labexam from stuinfo i,stumarks s where i.stuno=s.stuno;\n+--------+----------+--------+-------------+---------+\n| stuno  | stuname  | stusex | writtenexam | labexam |\n+--------+----------+--------+-------------+---------+\n| s25303 | 李斯文        | 女      |          80 |      58 |\n| s25302 | 李文才        | 男       |          50 |      90 |\n| s25304 | 欧阳俊雄        | 男       |          65 |      50 |\n| s25301 | 张秋丽         | 男       |          77 |      82 |\n| s25318 | 争青小子        | 男       |          56 |      48 |\n+--------+----------+--------+-------------+---------+\n5 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("p",[s._v("脚下留心：显示公共字段需要指定表名 "),n("img",{attrs:{src:"images/1537061664763.png",alt:"1537061664763"}})]),s._v(" "),n("p",[n("img",{attrs:{src:"images/1537061715978.png",alt:"1537061715978"}})]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("思考：\nselect * from 表1 inner join 表2 on 表1.公共字段=表2.公共字段  和\nselect * from 表2 inner join 表1 on 表1.公共字段=表2.公共字段   结果是否一样？\n答：一样的，因为内连接获取的是两个表的公共部分\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("多学一招：三个表的内连接如何实现？\nselect * from 表1 inner join 表2 on 表1.公共字段=表2.公共字段\ninner join 表3 on 表2.公共字段=表3.公共字段\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br")])]),n("h3",{attrs:{id:"_7-2-左外连接【left-join】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-2-左外连接【left-join】"}},[s._v("#")]),s._v(" 7.2 左外连接【left join】")]),s._v(" "),n("p",[s._v("以左边的表为标准，如果右边的表没有对应的记录，用NULL填充。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("语法：select 列名 from 表1 left join 表2 on 表1.公共字段=表2.公共字段\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("例题")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select stuname,writtenexam,labexam from stuinfo left join stumarks on stuinfo.stuno=stumarks.stuno;\n+----------+-------------+---------+\n| stuname  | writtenexam | labexam |\n+----------+-------------+---------+\n| 张秋丽         |          77 |      82 |\n| 李文才        |          50 |      90 |\n| 李斯文        |          80 |      58 |\n| 欧阳俊雄        |          65 |      50 |\n| 诸葛丽丽         |        NULL |    NULL |\n| 争青小子        |          56 |      48 |\n| 梅超风        |        NULL |    NULL |\n+----------+-------------+---------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("思考：\nselect * from 表1 left join 表2 on 表1.公共字段=表2.公共字段\n和\nselect * from 表2 left join 表1 on 表1.公共字段=表2.公共字段   是否一样？\n答：不一样，左连接以左边的表为准。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br")])]),n("h3",{attrs:{id:"_7-3-右外连接【right-join】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-3-右外连接【right-join】"}},[s._v("#")]),s._v(" 7.3 右外连接【right join】")]),s._v(" "),n("p",[s._v("以右边的表为标准，如果左边的表没有对应的记录，用NULL填充。")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("语法：select 列名 from 表1 right join 表2 on 表1.公共字段=表2.公共字段\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("例题")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select stuname,writtenexam,labexam from stuinfo right join stumarks on stuinfo.stuno=stumarks.stuno;\n+----------+-------------+---------+\n| stuname  | writtenexam | labexam |\n+----------+-------------+---------+\n| 李斯文        |          80 |      58 |\n| 李文才        |          50 |      90 |\n| 欧阳俊雄        |          65 |      50 |\n| 张秋丽         |          77 |      82 |\n| 争青小子        |          56 |      48 |\n| NULL     |          66 |      77 |\n+----------+-------------+---------+\n6 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("思考：\nselect * from 表1 left join 表2 on 表1.公共字段=表2.公共字段\n和\nselect * from 表2 right join 表1 on 表1.公共字段=表2.公共字段  是否一样？\n\n答：一样的\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("h3",{attrs:{id:"_7-4-交叉连接【cross-join】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-4-交叉连接【cross-join】"}},[s._v("#")]),s._v(" 7.4 交叉连接【cross join】")]),s._v(" "),n("p",[s._v("插入测试数据")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> create table t1(\n    -> id int,\n    -> name varchar(10)\n    -> );\nQuery OK, 0 rows affected (0.06 sec)\n\nmysql> insert into t1 values (1,'tom'),(2,'berry');\nQuery OK, 2 rows affected (0.00 sec)\n\nmysql> create table t2(\n    -> id int,\n    -> score int);\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql> insert into t2 values (1,88),(2,99);\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br")])]),n("p",[s._v("1、如果没有连接表达式返回的是笛卡尔积")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from t1 cross join t2;   # 返回笛卡尔积\n+------+-------+------+-------+\n| id   | name  | id   | score |\n+------+-------+------+-------+\n|    1 | tom   |    1 |    88 |\n|    2 | berry |    1 |    88 |\n|    1 | tom   |    2 |    99 |\n|    2 | berry |    2 |    99 |\n+------+-------+------+-------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("2、如果有连接表达式等价于内连接")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from t1 cross join t2 where t1.id=t2.id;\n+------+-------+------+-------+\n| id   | name  | id   | score |\n+------+-------+------+-------+\n|    1 | tom   |    1 |    88 |\n|    2 | berry |    2 |    99 |\n+------+-------+------+-------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("h3",{attrs:{id:"_7-5-自然连接【natural】"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-5-自然连接【natural】"}},[s._v("#")]),s._v(" 7.5 自然连接【natural】")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("自动的判断连接条件，它是过同名字段来判断的\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("p",[s._v("自然连接又分为：")]),s._v(" "),n("ol",[n("li",[s._v("自然内连接\t\tnatural join\n. 自然左外连接\t\tnatural left join\n. 自然右外连接\t\tnatural right join")])]),s._v(" "),n("p",[s._v("例题：")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 自然内连接\nmysql> select * from stuinfo natural join stumarks;\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | examNo  | writtenExam | labExam |\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n| s25303 | 李斯文        | 女      |     22 |       2 | 北京           | s271811 |          80 |\n  58 |\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          | s271813 |          50 |\n  90 |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           | s271815 |          65 |\n     50 |\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           | s271816 |          77 |\n    82 |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           | s271819 |          56 |\n     48 |\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n5 rows in set (0.00 sec)\n\n# 自然左外连接\n\nmysql> select * from stuinfo natural left join stumarks;\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | examNo  | writtenExam | labExam |\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           | s271816 |          77\n    82 |\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          | s271813 |          50 |\n  90 |\n| s25303 | 李斯文        | 女      |     22 |       2 | 北京           | s271811 |          80 |\n  58 |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           | s271815 |          65\n     50 |\n| s25305 | 诸葛丽丽         | 女      |     23 |       7 | 河南           | NULL    |        NULL\n   NULL |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           | s271819 |          56\n     48 |\n| s25319 | 梅超风        | 女      |     23 |       5 | 河北          | NULL    |        NULL |\nULL |\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n7 rows in set (0.00 sec)\n\n# 自然右外连接\nmysql> select * from stuinfo natural right join stumarks;\n+--------+---------+-------------+---------+----------+--------+--------+---------+------------+\n| stuNo  | examNo  | writtenExam | labExam | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+---------+-------------+---------+----------+--------+--------+---------+------------+\n| s25303 | s271811 |          80 |      58 | 李斯文        | 女      |     22 |       2 | 北京\n     |\n| s25302 | s271813 |          50 |      90 | 李文才        | 男       |     31 |       3 | 上海\n     |\n| s25304 | s271815 |          65 |      50 | 欧阳俊雄        | 男       |     28 |       4 | 天津\n        |\n| s25301 | s271816 |          77 |      82 | 张秋丽         | 男       |     18 |       1 | 北京\n       |\n| s25318 | s271819 |          56 |      48 | 争青小子        | 男       |     26 |       6 | 天津\n        |\n| s25320 | s271820 |          66 |      77 | NULL     | NULL   |   NULL |    NULL | NULL       |\n+--------+---------+-------------+---------+----------+--------+--------+---------+------------+\n6 rows in set (0.00 sec)\n\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br"),n("span",{staticClass:"line-number"},[s._v("37")]),n("br"),n("span",{staticClass:"line-number"},[s._v("38")]),n("br"),n("span",{staticClass:"line-number"},[s._v("39")]),n("br"),n("span",{staticClass:"line-number"},[s._v("40")]),n("br"),n("span",{staticClass:"line-number"},[s._v("41")]),n("br"),n("span",{staticClass:"line-number"},[s._v("42")]),n("br"),n("span",{staticClass:"line-number"},[s._v("43")]),n("br"),n("span",{staticClass:"line-number"},[s._v("44")]),n("br"),n("span",{staticClass:"line-number"},[s._v("45")]),n("br"),n("span",{staticClass:"line-number"},[s._v("46")]),n("br"),n("span",{staticClass:"line-number"},[s._v("47")]),n("br"),n("span",{staticClass:"line-number"},[s._v("48")]),n("br"),n("span",{staticClass:"line-number"},[s._v("49")]),n("br"),n("span",{staticClass:"line-number"},[s._v("50")]),n("br"),n("span",{staticClass:"line-number"},[s._v("51")]),n("br"),n("span",{staticClass:"line-number"},[s._v("52")]),n("br"),n("span",{staticClass:"line-number"},[s._v("53")]),n("br"),n("span",{staticClass:"line-number"},[s._v("54")]),n("br"),n("span",{staticClass:"line-number"},[s._v("55")]),n("br"),n("span",{staticClass:"line-number"},[s._v("56")]),n("br"),n("span",{staticClass:"line-number"},[s._v("57")]),n("br"),n("span",{staticClass:"line-number"},[s._v("58")]),n("br"),n("span",{staticClass:"line-number"},[s._v("59")]),n("br"),n("span",{staticClass:"line-number"},[s._v("60")]),n("br")])]),n("p",[s._v("自然连接结论：")]),s._v(" "),n("ol",[n("li",[n("p",[s._v("表连接通过同名的字段来连接的")])]),s._v(" "),n("li",[n("p",[s._v("如果没有同名的字段返回笛卡尔积")])]),s._v(" "),n("li",[n("p",[s._v("会对结果进行整理，整理的规则如下")]),s._v(" "),n("p",[s._v("a)\t连接字段保留一个")]),s._v(" "),n("p",[s._v("b)\t连接字段放在最前面")]),s._v(" "),n("p",[s._v("c)     左外连接左边在前，右外连接右表在前")])])]),s._v(" "),n("h3",{attrs:{id:"_7-6-using"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_7-6-using"}},[s._v("#")]),s._v(" 7.6 using()")]),s._v(" "),n("ol",[n("li",[s._v("用来指定连接字段。")]),s._v(" "),n("li",[s._v("using()也会对连接字段进行整理，整理方式和自然连接是一样的。")])]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stuinfo inner join stumarks using(stuno);   # using指定字段\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress | examNo  | writtenExam | labExam |\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n| s25303 | 李斯文        | 女      |     22 |       2 | 北京           | s271811 |          80 |\n  58 |\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          | s271813 |          50 |\n  90 |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           | s271815 |          65 |\n     50 |\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           | s271816 |          77 |\n    82 |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           | s271819 |          56 |\n     48 |\n+--------+----------+--------+--------+---------+------------+---------+-------------+---------+\n5 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br")])]),n("h2",{attrs:{id:"_8-子查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-子查询"}},[s._v("#")]),s._v(" 8 子查询")]),s._v(" "),n("p",[s._v("语法")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("语法：select 语句 where 条件 (select … from 表)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("ol",[n("li",[s._v("外面的查询称为父查询，括号中的查询称为子查询")]),s._v(" "),n("li",[s._v("子查询为父查询提供查询条件")])]),s._v(" "),n("h3",{attrs:{id:"_8-1-例题"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-例题"}},[s._v("#")]),s._v(" 8.1 例题")]),s._v(" "),n("p",[s._v("1、查找笔试80分的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stuinfo where stuno=(select stuno from stumarks where writtenexam=80);\n+--------+---------+--------+--------+---------+------------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress |\n+--------+---------+--------+--------+---------+------------+\n| s25303 | 李斯文       | 女      |     22 |       2 | 北京           |\n+--------+---------+--------+--------+---------+------------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br")])]),n("p",[s._v("2、查找笔试最高分的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("# 方法一：\nmysql> select * from stuinfo where stuno=(select stuno from stumarks order by writtenexam desc limit\n 1);\n+--------+---------+--------+--------+---------+------------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress |\n+--------+---------+--------+--------+---------+------------+\n| s25303 | 李斯文       | 女      |     22 |       2 | 北京           |\n+--------+---------+--------+--------+---------+------------+\n1 row in set (0.00 sec)\n\n# 方法二：\nmysql> select * from stuinfo where stuno=(select stuno from stumarks where writtenexam=(select max(writtenexam) from stumarks));\n+--------+---------+--------+--------+---------+------------+\n| stuNo  | stuName | stuSex | stuAge | stuSeat | stuAddress |\n+--------+---------+--------+--------+---------+------------+\n| s25303 | 李斯文       | 女      |     22 |       2 | 北京           |\n+--------+---------+--------+--------+---------+------------+\n1 row in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("脚下留心：上面的例题，子查询只能返回一个值。如果子查询返回多个值就不能用“=”了,需要用 in\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h3",{attrs:{id:"_8-2-in-not-in子查询"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-2-in-not-in子查询"}},[s._v("#")]),s._v(" 8.2 in|not in子查询")]),s._v(" "),n("p",[s._v("用于子查询的返回结果多个值。")]),s._v(" "),n("p",[s._v("1、查找笔试成绩及格的同学")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stuinfo where stuno in (select stuno from stumarks where writtenexam>=60);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           |\n| s25303 | 李斯文        | 女      |     22 |       2 | 北京           |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           |\n+--------+----------+--------+--------+---------+------------+\n3 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("p",[s._v("2、查询不及格的同学")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stuinfo where stuno  in (select stuno from stumarks where writtenexam<=60);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           |\n+--------+----------+--------+--------+---------+------------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("3、查询没有通过的同学（不及格，缺考）")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stuinfo where stuno  not in (select stuno from stumarks where writtenexam>=60);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          |\n| s25305 | 诸葛丽丽         | 女      |     23 |       7 | 河南           |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           |\n| s25319 | 梅超风        | 女      |     23 |       5 | 河北          |\n+--------+----------+--------+--------+---------+------------+\n4 rows in set (0.00 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br")])]),n("h3",{attrs:{id:"_8-3-exists和not-exists"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-3-exists和not-exists"}},[s._v("#")]),s._v(" 8.3 exists和not exists")]),s._v(" "),n("p",[s._v("1、\t如果有人笔试超过80分就显示所有的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stuinfo where exists (select * from stumarks where writtenexam>=80);\n+--------+----------+--------+--------+---------+------------+\n| stuNo  | stuName  | stuSex | stuAge | stuSeat | stuAddress |\n+--------+----------+--------+--------+---------+------------+\n| s25301 | 张秋丽         | 男       |     18 |       1 | 北京           |\n| s25302 | 李文才        | 男       |     31 |       3 | 上海          |\n| s25303 | 李斯文        | 女      |     22 |       2 | 北京           |\n| s25304 | 欧阳俊雄        | 男       |     28 |       4 | 天津           |\n| s25305 | 诸葛丽丽         | 女      |     23 |       7 | 河南           |\n| s25318 | 争青小子        | 男       |     26 |       6 | 天津           |\n| s25319 | 梅超风        | 女      |     23 |       5 | 河北          |\n+--------+----------+--------+--------+---------+------------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br")])]),n("p",[s._v("2、\t如果没有人超过80分就显示所有的学生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select * from stuinfo where not exists (select * from stumarks where writtenexam>=80);\nEmpty set (0.02 sec)\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br")])]),n("h3",{attrs:{id:"_8-4-子查询分类"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_8-4-子查询分类"}},[s._v("#")]),s._v(" 8.4 子查询分类")]),s._v(" "),n("p",[s._v("1、标量子查询：子查询返回的结果就一个")]),s._v(" "),n("p",[s._v("2、列子查询：子查询返回的结果是一个列表")]),s._v(" "),n("p",[s._v("3、行子查询：子查询返回的结果是一行")]),s._v(" "),n("p",[s._v("例题：查询成绩最高的男生和女生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select stuname,stusex,ch from stu where (stusex,ch) in (select stusex,max(ch) from stu group by stusex);\n+----------+--------+------+\n| stuname  | stusex | ch   |\n+----------+--------+------+\n| 争青小子        | 男       |   86 |\n| Tabm     | 女      |   88 |\n+----------+--------+------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("p",[s._v("4、表子查询：子查询返回的结果当成一个表")]),s._v(" "),n("p",[s._v("例题：查询成绩最高的男生和女生")]),s._v(" "),n("div",{staticClass:"language-mysql line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("mysql> select stuname,stusex,ch from (select * from stu order by ch desc) as t group by stusex;\n+----------+--------+------+\n| stuname  | stusex | ch   |\n+----------+--------+------+\n| Tabm     | 女      |   88 |\n| 争青小子        | 男       |   86 |\n+----------+--------+------+\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br")])]),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("脚下留心：from后面是一个表，如果子查询的结果当成表来看，必须将子查询的结果取别名。\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br")])]),n("h2",{attrs:{id:"_9-补充技术"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-补充技术"}},[s._v("#")]),s._v(" 9  补充技术")]),s._v(" "),n("h3",{attrs:{id:"_9-1-insert-select"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-1-insert-select"}},[s._v("#")]),s._v(" 9.1  insert…select…")]),s._v(" "),n("p",[s._v("选择一个表的数据插入到另外的表中。")]),s._v(" "),n("h3",{attrs:{id:"_9-2-on-duplicate-key-update"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_9-2-on-duplicate-key-update"}},[s._v("#")]),s._v(" 9.2 on duplicate key update")]),s._v(" "),n("p",[s._v("在插入数据的时候，如果插入的数据不满足主键约束或唯一约束则执行更新操作。")])])}),[],!1,null,null,null);a.default=t.exports}}]);